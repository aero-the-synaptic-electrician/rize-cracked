!function e(){if("?vanilla"===location.search)return;{let t="https://vanis.io/zimek-is-a-pedophile";location.href!==t&&(location.href=t)}document.title="Vanis.io",window.customModal=(e,t)=>{document.getElementsByClassName("fa-clipboard-list")[0].click(),setTimeout(()=>{document.getElementsByClassName("content fade-box")[0].getElementsByTagName("div")[0].innerHTML=e,t&&setTimeout(t,50)},50)};class s{constructor(e,t){if(this.view=null,e instanceof DataView)this.view=e;else{if(!(e instanceof ArrayBuffer))throw TypeError("First argument to SmartBuffer constructor must be an ArrayBuffer or DataView");this.view=new DataView(e)}this.offset=t??0}ensureCapacity(e){let t=this.offset+e;if(t>this.length){let s=new ArrayBuffer(t),i=new Uint8Array(s);i.set(new Uint8Array(this.buffer)),this.view=new DataView(s)}}static fromSize(e){return new this(new ArrayBuffer(e),0)}static fromBuffer(e){return new this(e,0)}get buffer(){return this.view?.buffer??null}toBuffer(){return this.buffer}get length(){return this.view?.byteLength??-1}get eof(){return this.offset>=this.length}read(e,t,s,i){let n=e.call(this.view,i??this.offset,s);return i||(this.offset+=t),n}write(e,t,s,i){this.ensureCapacity(t),e.call(this.view,this.offset,s,i),this.offset+=t}readInt8=e=>this.read(DataView.prototype.getInt8,1,null,e);readUInt8=e=>this.read(DataView.prototype.getUint8,1,null,e);readInt16LE=e=>this.read(DataView.prototype.getInt16,2,!0,e);readInt16BE=e=>this.read(DataView.prototype.getInt16,2,!1,e);readUInt16LE=e=>this.read(DataView.prototype.getUint16,2,!0,e);readUInt16BE=e=>this.read(DataView.prototype.getUint16,2,!1,e);readInt32LE=e=>this.read(DataView.prototype.getInt32,4,!0,e);readInt32BE=e=>this.read(DataView.prototype.getInt32,4,!1,e);readUInt32LE=e=>this.read(DataView.prototype.getUint32,4,!0,e);readUInt32BE=e=>this.read(DataView.prototype.getUint32,4,!1,e);readString16(){let e="";for(;;){let t=this.eof?0:this.readUInt16LE();if(0===t)break;e+=String.fromCharCode(t)}return e}readString(){let e="";for(;;){let t=this.eof?0:this.readUInt8();if(0===t)break;e+=String.fromCharCode(t)}return e}readEscapedString=()=>decodeURIComponent(escape(this.readString()));writeInt8=e=>this.write(DataView.prototype.setInt8,1,e,null);writeUInt8=e=>this.write(DataView.prototype.setUint8,1,e,null);writeInt16LE=e=>this.write(DataView.prototype.setInt16,2,e,!0);writeInt16BE=e=>this.write(DataView.prototype.setInt16,2,e,!1);writeUInt16LE=e=>this.write(DataView.prototype.setUint16,2,e,!0);writeUInt16BE=e=>this.write(DataView.prototype.setUint16,2,e,!1);writeInt32LE=e=>this.write(DataView.prototype.setInt32,4,e,!0);writeInt32BE=e=>this.write(DataView.prototype.setInt32,4,e,!1);writeUInt32LE=e=>this.write(DataView.prototype.setUint32,4,e,!0);writeUInt32BE=e=>this.write(DataView.prototype.setUint32,4,e,!1);writeString(e){let t=e.length;this.ensureCapacity(t);for(let s=0;s<t;s++)this.writeUInt8(e.charCodeAt(s))}writeStringNT(e){this.writeString(e),this.writeUInt8(0)}writeEscapedString=e=>this.writeString(unescape(encodeURIComponent(e)));writeEscapedStringNT=e=>this.writeStringNT(unescape(encodeURIComponent(e)))}window.SmartBuffer=s;let i=[5,104,253,62,175,116,238,41];class n{constructor(e){this.data=e}writeIndex(e,t){let s=this.data[t],n=s+5&7,a=e[t>0?t-1:0]^i[t];e.push((s<<n|s>>>8-n)&255^a^62)}build(e=!1){let t=[];for(let s=0;s<8;s++)this.writeIndex(t,s);let i=1+Math.floor(2147483646*Math.random());return t.push((t[0]^i>>24)&255),t.push((t[1]^i>>16)&255),t.push((t[2]^i>>8)&255),t.push((i^t[3])&255),t.push(t[0]^+e^31),t}}let a="?fps"===location.search;a&&(document.title="Vanis.io - @discord.me/axoninf");class r extends PIXI.Graphics{constructor(e,t,s){super();var i=this.lineWidth=t||12,n=this.lineColor=s||16777215;this.points=e,this.lineStyle(i,n),this.alpha=.35,this.moveTo(e[0],e[1]),this.lineTo(e[2],e[3])}updatePoints(e){try{var t=this.points=e.map((e,t)=>e||this.points[t]),s=this.lineWidth,i=this.lineColor;window.cancerLines||this.clear(),this.lineStyle(s,i),this.moveTo(t[0],t[1]),this.lineTo(t[2],t[3])}catch(n){}}}window.TagColor={isNull:0,array:["#69ff91","#69fff0","#696bff","#ff69f3","#ffdc69","#ff6969"]},window.TagColor.null="#ffffff";var o=[.79,1.52,2.35,3,3.92,4.7,5.5,6.2];function l(e){for(var t=9e9,s=0,i=0;e.length<i;i++)e[i].id<t&&(s=i,t=e[i].id);return e.splice(s,1),e}String.prototype.toHHMMSS=function(){var e=parseInt(this,10),t=Math.floor(e/3600),s=Math.floor((e-3600*t)/60);return`${0!==s?`${s}m `:""}${e-3600*t-60*s}s`},window.makeid=e=>{for(var t="",s="X0123456789",i=s.length,n=0;n<e;n++)t+=s.charAt(Math.floor(Math.random()*i));return t},window.$=(e,t=document)=>t.querySelector(e),window.extraServers=[{name:"Local:8080",domain:"localhost",port:8080,mode:"Instant",players:"0",slots:"00",region:"EU",url:"ws://localhost:8080"}],function(e){var t,s=(t=!0,function(e,s){var i=t?function(){if(s){var t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i});function i(t){var i=s(this,function(){var e=function(){return!e.constructor('return /" + this + "/')().constructor("^([^ ]+( +[^ ]+)+)+[^ ]}").test(i)};return e()});i();for(var a,l,c=t[0],d=t[1],h=t[2],p=0,m=[];p<c.length;p++)l=c[p],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&m.push(r[l][0]),r[l]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,h||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var s=o[t],i=!0,n=1;n<s.length;n++)0!==r[s[n]]&&(i=!1);i&&(o.splice(t--,1),e=l(l.s=s[0]))}return e}var a={},r={0:0},o=[];function l(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}window.getModule=l,l.m=e,l.c=a,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(s,i,(function(t){return e[t]}).bind(null,i));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var c=window.webpackJsonp=window.webpackJsonp||[],d=c.push.bind(c);c.push=i,c=c.slice();for(var h=0;h<c.length;h++)i(c[h]);var u=d;o.push([118,1]),n()}([,function(e,t,i){let a=i(4),r=i(24),o=i(121),l=i(125),c=i(12),d=i(23),h=i(128),{lerp:u,clamp:p,hideCaptchaBadge:m}=i(8),v=window.GAME={ws:{close(){}}};function g(e,t){for(;e.length;)e.pop().destroy(t)}GAME.killCount=0,GAME.timeAlive=0,v.clientVersion=19,v.events=new d,v.settings=a,v.renderer=r,v.usingWebGL=r.type===PIXI.RENDERER_TYPE.WEBGL,v.skinLoader=new h,c.virus.loadVirusFromUrl(a.virusImageUrl);let f={connectionUrl:null,selectedServer:null,spectators:0,isAlive:!1,allowed:!1,playButtonDisabled:!1,playButtonText:"Play",deathDelay:!1,isAutoRespawning:!1};v.state=f,v.alive=(e=!1)=>{let{dual:t}=v;return e?t.opened&&t.alive:v.connection.opened&&f.isAlive},document.body.oncontextmenu=function(e){return e.target&&"email"===e.target.id},v.start=function(e){if(!(e.protocol&&e.instanceSeed&&e.playerId&&e.border))throw"Lacking mandatory data";v.nwDataMax=0,v.nwDataSent=0,v.nwDataTotal=0,v.nwData=0,v.viruses=[[],[]],v.running=!0,v.replaying=!!e.replayUpdates,v.protocol=e.protocol,v.modeId=e.gamemodeId||0,v.instanceSeed=e.instanceSeed,v.pingstamp=0,v.timestamp=0,v.serverTick=0,v.playerId=e.playerId,v.multiboxPid=null,v.activePid=v.playerId,v.tagId=null,v.spectating=!1,v.state.spectators=0,v.state.isAlive=!1,v.score=0,v.cellCount=0,v.cells=new Map,v.ownedCells=new Set,v.multinodelist=[],v.removedCells=[],v.rawMouse={},v.mouse={},v.border=e.border,v.food=e.food,v.mouseZoom=.3,v.mouseZoomMin=.01,v.camera={time:0,sx:0,sy:0,ox:e.border.x,nx:e.border.x,oy:e.border.y,ny:e.border.y,oz:v.mouseZoom,nz:v.mouseZoom},v.massTextPool=[],v.crownPool=[];var t=PIXI.utils.isWebGLSupported()&&a.useWebGL&&a.showBackgroundImage;v.scene=new o(v.border,t),v.scene.container.pivot.set(e.border.x,e.border.y),v.scene.container.scale.set(v.zoom),v.playerManager=new l(v),v.ticker=new PIXI.Ticker,v.ticker.add(v.tick),v.state.selectedServer&&v.state.connectionUrl!==v.state.selectedServer.url&&(v.state.selectedServer=null),v.replaying?(v.playback.set(e.replayUpdates),v.moveInterval=setInterval(v.playback.next.bind(v.playback),40),v.events.$emit("show-replay-controls",e.replayUpdates.length),v.events.$emit("minimap-stats-visible",!1)):(v.splitCount=0,v.moveWaitUntil=0,v.stopMovePackets=!1,v.moveToCenterOfCells=!1,v.mouseFrozen=!1,a.minimapEnabled&&v.events.$emit("minimap-show"),a.showChat&&v.events.$emit("chat-visible",{visible:!0}),v.events.$emit("leaderboard-show"),v.events.$emit("stats-visible",!0),v.moveInterval=setInterval(()=>{v.stopMovePackets||(v.moveToCenterOfCells?v.connection.sendOpcode(9):v.connection.sendMouse())},40),v.events.$on("every-second",v.everySecond),v.state.allowed=!0,v.lastDeathTime=Date.now()),v.ticker.start(),v.eventListeners(!0),v.events.$emit("game-started"),v.scene.container.alpha=window.settings.gameAlpha},v.updateStats=function(e){e&&(v.ping=e),v.events.$emit("stats-changed",{ping:e,fps:Math.round(v.ticker.FPS),mass:v.score,score:v.highscore}),v.events.$emit("minimap-stats-changed",{playerCount:v.playerManager.playerCount,spectators:v.state.spectators})},v.everySecond=function(){v.alive(!1)&&v.timeAlive++,v.nwData>v.nwDataMax&&(v.nwDataMax=v.nwData),v.nwDataTotal+=v.nwData;let{connection:e}=v,{debugElement:t}=v;if(t){if((a.debugStats||a.clientStats)&&e.opened){let s=Multibox.connected,i="";if(a.debugStats&&!v.replaying&&(i+=`
            <b>(NET)</b> ${(v.nwData/1024).toFixed(0)} Kb/s <br>
            <b>(NET PEAK)</b> ${(v.nwDataMax/1024).toFixed(0)} Kb/s <br>
            <b>(NET TOTAL)</b> ${(v.nwDataTotal/1024/1024).toFixed(0)} MB <br>
            <br>`),a.clientStats){let{x:n,y:r}=v.mouse;i+=`
        <b>(MOUSE)</b> ${n.toFixed(0)} ${r.toFixed(0)} <br>
        ${s?`<b>(DUAL PID)</b> ${v.multiboxPid} <br>`:""}
        <b>(PID)</b> ${v.playerId} <br>
        <b>(NODES)</b> ${v.cells.size} <br>
        `}t.innerHTML=i}else""!==t.innerHTML&&(t.innerHTML="")}v.nwData=0,v.connection.opened&&v.connection.ping(),Multibox.connected&&v.connection.sendOpcode(3,!0)},v.clearNodes=function(e){if(!v.running)return;let t=[...v.cells.values()];for(;t.length;)t.shift().destroy();for(t=v.removedCells;t.length;)t.pop().destroySprite();for(t=v.viruses[e?1:0];t.length;)t.shift().destroy()},v.stop=function(){let{dual:e}=v;e.opened&&e.close(),v.running=!1,v.state.isAlive=!1,v.state.spectators=0,v.state.allowed=!1,v.state.playButtonDisabled=!1,v.state.playButtonText="Play",v.eventListeners(!1),delete v.running,delete v.protocol,delete v.modeId,delete v.initialDataPacket,delete v.instanceSeed,delete v.pingstamp,delete v.timestamp,delete v.serverTick,delete v.playerId,v.multiboxPid=0,delete v.activePid,delete v.tagId,delete v.spectating,delete v.center,delete v.score,delete v.highscore,delete v.cellCount,delete v.replaying,v.clearNodes(),delete v.cells,delete v.ownedCells,delete v.removedCells,delete v.rawMouse,delete v.mouse,delete v.border,delete v.mouseZoom,delete v.mouseZoomMin,delete v.camera,v.ticker.stop(),delete v.ticker,delete v.splitCount,delete v.moveWaitUntil,delete v.stopMovePackets,delete v.moveToCenterOfCells,delete v.mouseFrozen,delete v.lastDeathTime,delete v.selectedPlayer,clearInterval(v.moveInterval),delete v.moveInterval,v.playback.reset(),v.events.$off("every-second",v.everySecond),v.skinLoader.clearCallbacks(),v.events.$emit("minimap-stats-visible",!0),v.events.$emit("stats-visible",!1),v.events.$emit("chat-visible",{visible:!1}),v.events.$emit("leaderboard-hide"),v.events.$emit("minimap-hide"),v.events.$emit("minimap-destroy"),v.events.$emit("show-replay-controls",!1),v.events.$emit("cells-changed",0),v.events.$emit("reset-cautions"),v.events.$emit("players-menu",!1),v.events.$emit("account-menu",!1),v.events.$emit("chatbox-menu",!1),v.events.$emit("options-menu",!1),v.events.$emit("replays-menu",!1),v.events.$emit("game-stopped"),v.playerManager.destroy(),delete v.playerManager,v.scene&&(v.scene.destroyBackgroundImage(!1),v.scene.uninstallMassTextFont(),v.scene.container.destroy({children:!0}),delete v.scene),v.renderer.clear(),c.cells.destroyCache(),c.squares.destroyCache(),g(v.massTextPool,!0),g(v.crownPool),delete v.massTextPool,delete v.crownPool},v.showMenu=function(e,t){if(null==e&&(t=e=!v.app.showMenu),v.app.showMenu=e,e)v.events.$emit("menu-opened"),t&&setTimeout(()=>v.app.showMenu,1500);else{let s=document.activeElement;s?.id!=="chatbox-input"&&v.renderer.view.focus(),v.stopMovePackets=!1,m()}return e},v.triggerDeathDelay=function(e){clearTimeout(v.deathTimeout),delete v.deathTimeout;let{state:t}=v;if(e?Multibox.autoRespawning=!1:(t.deathDelay=!1,t.isAutoRespawning=!1),!a.mbAutorespawn&&!a.autoRespawn){let s=[];s.push(`Kills: ${v.killCount}`),s.push(`Time alive: ${v.timeAlive.toString().toHHMMSS()}`),s.push(`Highscore: ${v.highscore.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}`),$(".bar").innerHTML=s.join("<br>"),v.highscore=0,v.killCount=0,v.timeAlive=0}},v.handleDeath=(e,t)=>{e.readUInt16LE(),GAME.killCount+=e.readUInt16LE(),e.readUInt32LE();let{state:s}=v;t||(s.deathDelay=!0),v.shouldAutoRespawn(t)&&(t?(Multibox.autoRespawning=!0,Multibox.ticksSinceDeath=0):(s.isAutoRespawning=!0,v.ticksSinceDeath=0)),(t?Multibox.autoRespawning:s.isAutoRespawning)||(v.deathTimeout=setTimeout(v.triggerDeathDelay.bind(null,t),900)),Multibox.updateOutlines()},v.triggerAutoRespawn=function(e){let{state:t}=v;e?(Multibox.autoRespawning=!1,Multibox.spawn()):(t.deathDelay=!1,t.isAutoRespawning=!1,v.actions.join())},v.tick=function e(){let t=v.timestamp=performance.now();t>=v.moveWaitUntil&&(v.updateMouse(),v.splitCount=0);let{removedCells:s,cells:i}=v,n=s.length;for(;n--;){let a=s[n];a.update()&&(a.destroySprite(),s.splice(n,1))}let r=0;i.forEach(e=>{e.update(),e.pid===v.activePid&&r++}),v.cellCount!==r&&(v.cellCount=r,v.events.$emit("cells-changed",r));let{scene:o}=v;o.sort();let l=v.updateCamera();if(l){v.score=l;let{highscore:c}=v;v.highscore=c?c<l?l:c:l}else v.alive(!0)||v.alive(!1)||(v.score=0,delete v.highscore);v.renderer.render(o.container)},v.updateCamera=function(e){let{scene:t,camera:s}=v,i=v.timestamp-s.time,n=p(i/a.cameraMoveDelay,0,1),r=p(i/a.cameraZoomDelay,0,1),o=t.container.pivot.x=u(s.ox,s.nx,n),l=t.container.pivot.y=u(s.oy,s.ny,n),c=u(s.oz,s.nz,r);t.container.scale.set(c);let d=v.mouseZoom,h=0,m=0,g=0;if(v.spectating){let{sx:f,sy:y}=s;h=f,m=y}else{let{cells:w}=v,b=new Set(v.ownedCells);if(!v.replaying){let{dual:_}=v;if(_.opened&&_.alive){let k=_.getDistanceFromOwner();k>8e3&&b.forEach(e=>{let t=w.get(e);(t.multi?!_.focused:_.focused)&&b.delete(e)})}}let C=0;for(let x of b){let S=w.get(x),M=Math.round(Math.pow(S.nSize/10,2));h+=S.nx*M,m+=S.ny*M,C+=S.nSize,g+=M}g?(h/=g,m/=g,a.autoZoom&&(d*=Math.pow(Math.min(64/C,1),.27))):(h=s.nx,m=s.ny)}return e?(s.ox=o,s.oy=l,s.oz=c,s.nx=h,s.ny=m,s.nz=d,s.time=v.timestamp,0):g},v.updateMouse=function(e=!1){if(!v.mouseFrozen||e){var t=v.scene.container;v.mouse.x=Math.min(Math.max(t.pivot.x+(v.rawMouse.x-window.innerWidth/2)/t.scale.x,-32768),32767),v.mouse.y=Math.min(Math.max(t.pivot.y+(v.rawMouse.y-window.innerHeight/2)/t.scale.y,-32768),32767)}},v.seededRandom=e=>(e=Math.sin(e)*(1e4+v.instanceSeed))-Math.floor(e),v.getThumbnail=function(){var e=v.scene.container,t=new PIXI.Container;t.pivot.x=e.position.x,t.pivot.y=e.position.y,t.position.x=120,t.position.y=67.5,t.scale.set(1/4),t.addChild(e);var s=PIXI.RenderTexture.create(240,135);v.renderer.render(t,s),t.removeChild(e);var i=v.renderer.extract.canvas(s),n=document.createElement("canvas");n.width=240,n.height=135;var r=n.getContext("2d");r.beginPath(),r.rect(0,0,240,135),r.fillStyle=a.backgroundColor,r.fill(),r.drawImage(i,0,0,240,135);var o=n.toDataURL();return s.destroy(!0),o},v.setTagId=function(e){return e||(e=null),e!==v.tagId&&(v.tagId=e,!0)},v.getMassText=function(e){return!a.shortMass||e<1e3?e.toFixed(0):(e/1e3).toFixed(1)+"k"},v.shouldAutoRespawn=function(e){return!v.app.showMenu&&(e?a.mbAutorespawn:a.autoRespawn)},setInterval(()=>v.events.$emit("every-second"),1e3),setInterval(()=>v.events.$emit("every-minute"),6e4),v.events.$on("every-minute",()=>{}),e.exports=v;let y=i(78);window.Multibox=v.dual=new class e{constructor(){this.ws=null,this.focused=!1,this.opened=!1,this.pid=null,this.autoRespawning=null,this.alive,this.ticksSinceDeath=0,this.arrowSprite=null,this.reloadArrow()}get connected(){return this.opened&&this.ready}open(){let{connectionUrl:e}=f;if(!e)return;let t=this.ws=new WebSocket(e,"tFoL46WDlZuRja7W6qCl");t.binaryType="arraybuffer",t.packetId=0,this.opened=!0,t.onopen=()=>{this.opened&&(this.ws.onclose=this.onClosed.bind(this),this.reloadArrow())},t.onmessage=e=>{let{data:t}=e;v.nwData+=t.byteLength,this.handleMessage(new DataView(t))},t.onclose=this.onRejected.bind(this)}close(){let{ws:e}=this;e&&(e.onmessage=null,e.onclose=null,e.onerror=null,e.close(),this.ws=null),this.focused=!1,this.opened=!1,this.pid=v.multiboxPid=null,delete this.alive,delete this.ready,v.running&&v.clearNodes(!0)}onRejected(){let e=atob("TXVsdGlib3ggZmFpbGVkIHRvIGNvbm5lY3Q=");v.sendServer(e)}onClosed(e){let t="Multibox disconnected";e.reason&&(t+=`(${e.reason})`),v.sendServer(t),this.close()}handleMessage(e){let t=new s(e),i=t.readUInt8();switch(i){case 1:{let a=y(t);v.multiboxPid=this.pid=a.playerId,v.sendServer("Multibox connected"),setTimeout(()=>{this.ready=!0},500);return}case 2:{let r=new Uint8Array(e.buffer,1);v.connection.sendJoinData(new n(r).build(),!0);return}case 6:v.connection.sendOpcode(6,!0);return;case 10:{let o=this.alive=v.parseNodes(t,!0);if(o)return;this.autoRespawning&&37==++this.ticksSinceDeath&&v.triggerAutoRespawn(!0);return}case 18:this.clearCells();return;case 20:v.handleDeath(t,!0);return;case 22:v.events.$emit("m-show-image-captcha");return}}spawn(){if(!this.connected)return;v.actions.join(!0);let{players:e}=v.playerManager,t=e.get(this.pid);t.isMe=!0,this.updateOutlines()}updateOutlines(){let e=v.playerId,t=this.pid,{players:s}=v.playerManager;if(!s.has(e)||!s.has(t))return;let i=s.get(e),n=s.get(t),r=[...v.cells.values()],o=r.filter(s=>!!s.pid&&!!s.arrowSprite&&(s.pid==e||s.pid==t));switch(a.mbActive){case 0:break;case 1:{o.forEach(e=>{e.arrowSprite.visible=!1});let l=+("0x"+a.mbColor);this.focused?(i.setOutline(16777215),n.setOutline(l)):(n.setOutline(16777215),i.setOutline(l));break}case 2:case 3:{let c=this.focused;o.forEach(e=>{e.arrowSprite.visible=e.multi?c:!c})}}a.showCellLines&&r.filter(e=>!!e.line).forEach(e=>e.updateLineVisibility())}reloadArrow(){if(this.arrowSprite&&this.arrowSprite.destroy(),a.mbArrow.startsWith("data:image")){let e=document.createElement("img");e.src=a.mbArrow;let t=new PIXI.BaseTexture(e),s=new PIXI.Texture(t);this.arrowSprite=new PIXI.Sprite(s)}else this.arrowSprite=new PIXI.Sprite.from(a.mbArrow)}getPosition(e){let t=0,s=0,i=[...v.cells.values()].filter(t=>!!t.pid&&t.pid===(e?this.pid:v.playerId)&&!!t.sprite);if(0===i.length)return[NaN];i.forEach(e=>{t+=e.x,s+=e.y});let n=i.length;return[t/n,s/n]}getDistanceFromOwner(){let[e,t]=this.getPosition(!0),[s,i]=this.getPosition(!1),n=s-e,a=i-t;return Math.sqrt(n*n+a*a)}clearCells(){if(!v.running)return;let e=[...v.cells.values()].filter(e=>e.multi),t=e.length;for(;t--;)e.shift().destroy();for(e=v.removedCells.filter(e=>e.multi);e.length;)e.pop().destroySprite();for(e=v.viruses[1];e.length;)e.shift().destroy()}switch(){if(!this.opened)return void this.open();this.connected&&(this.focused?(v.alive(!1)||f.isAutoRespawning||v.actions.join(),v.activePid=v.playerId,this.focused=!1):(v.alive(!0)||this.autoRespawning||this.spawn(),v.activePid=this.pid,this.focused=!0),this.updateOutlines())}}},,,function(e){var t={useWebGL:!0,gameResolution:1,smallTextThreshold:40,autoZoom:!1,autoRespawn:!1,mouseFreezeSoft:!0,drawDelay:120,cameraMoveDelay:150,cameraZoomDelay:150,cameraZoomSpeed:10,replayDuration:8,showReplaySaved:2,showNames:2,showMass:2,showSkins:1,showOwnName:!0,showOwnMass:!0,showOwnSkin:!0,showCrown:!0,foodVisible:!0,eatAnimation:!0,showHud:!0,showLeaderboard:!0,showServerName:!1,showChat:!0,showChatToast:!1,minimapEnabled:!0,minimapLocations:!0,showFPS:!0,showPing:!0,showCellCount:!0,showPlayerScore:!1,showPlayerMass:!0,showClock:!1,showSessionTime:!1,showPlayerCount:!1,showSpectators:!1,showRestartTiming:!1,showBlockedMessageCount:!0,filterChatMessages:!0,clearChatMessages:!0,backgroundColor:"101010",borderColor:"000000",foodColor:"ffffff",ejectedColor:"ffa500",cellNameOutlineColor:"000000",cursorImageUrl:null,backgroundImageUrl:"img/background.png",virusImageUrl:"img/virus.png",cellMassColor:"ffffff",cellMassOutlineColor:"000000",cellNameFont:"Hind Madurai",cellNameWeight:1,cellNameOutline:2,cellNameSmoothOutline:!0,cellLongNameThreshold:750,cellMassFont:"Ubuntu",cellMassWeight:2,cellMassOutline:2,cellMassTextSize:0,cellMassSmoothOutline:!0,shortMass:!0,showBackgroundImage:!0,backgroundImageRepeat:!0,backgroundDefaultIfUnequal:!0,backgroundImageOpacity:.6,useFoodColor:!1,namesEnabled:!0,skinsEnabled:!0,massEnabled:!0,showLocations:!1,cellBorderSize:1,autoHideReplayControls:!1,minimapSize:220,minimapFPS:30,minimapSmoothing:.08,mbColor:"ff3bb7",mbSkin:"",mbActive:1,mbAutorespawn:!1,gameAlpha:1,mbName:"",mbUseName:!1,debugStats:!1,clientStats:!1,playerStats:!0,showCellLines:!1,showTag:!1,showDir:!1,chatColorOnlyPeople:!1,mbArrow:"https://i.postimg.cc/6pvLJ2TW/image.png"};function s(e){switch(e){case 2:return"bold";case 0:return"thin";default:return"normal"}}function i(e,t){var s;switch(e){case 3:s=t/5;break;case 1:s=t/20;break;default:s=t/10}return Math.ceil(s)}e.exports=window.settings=new class{constructor(){this.getInternalSettings(),this.userDefinedSettings=this.loadUserDefinedSettings(),Object.assign(this,t,this.userDefinedSettings),this.set("skinsEnabled",!0),this.set("namesEnabled",!0),this.set("massEnabled",!0),this.compileNameFontStyle(),this.compileMassFontStyle()}getInternalSettings(){this.cellSize=512}compileNameFontStyle(){var e={fontFamily:this.cellNameFont,fontSize:80,fontWeight:s(this.cellNameWeight)};return this.cellNameOutline&&(e.stroke=PIXI.utils.string2hex(this.cellNameOutlineColor),e.strokeThickness=i(this.cellNameOutline,e.fontSize),e.lineJoin=this.cellNameSmoothOutline?"round":"miter"),this.nameTextStyle=e}compileMassFontStyle(){var e={fontFamily:this.cellMassFont,fontSize:56+20*this.cellMassTextSize,fontWeight:s(this.cellMassWeight),lineJoin:"round",fill:PIXI.utils.string2hex(this.cellMassColor)};return this.cellMassOutline&&(e.stroke=PIXI.utils.string2hex(this.cellMassOutlineColor),e.strokeThickness=i(this.cellMassOutline,e.fontSize),e.lineJoin=this.cellMassSmoothOutline?"round":"miter"),this.massTextStyle=e}loadUserDefinedSettings(){if(!localStorage.settings)return{};try{return JSON.parse(localStorage.settings)}catch(e){return{}}}getDefault(e){return t[e]}set(e,t){return this[e]!==t&&(this[e]=t,this.userDefinedSettings[e]=t,localStorage.settings=JSON.stringify(this.userDefinedSettings),!0)}}},function(e,t,s){var i=s(270).default,n=i.mixin({toast:!0,position:"top",showConfirmButton:!1,showCloseButton:!0});window.Swal=i,window.SwalAlerts=e.exports={toast:n,alert:function(e){i.fire({text:e,confirmButtonText:"OK"})},confirm:function(e,t,s){i.fire({text:e,showCancelButton:!0,confirmButtonText:"Continue"}).then(e=>{e.value?t():s&&s()})},instance:i}},,,function(e){var t=!1;e.exports={lerp:function(e,t,s){return(1-s)*e+s*t},clamp:(e,t,s)=>Math.min(s,Math.max(t,e)),createBuffer:function(e){return new DataView(new ArrayBuffer(e))},getTimeString:function(e,t,s){e instanceof Date&&(e=e.getTime());var i=t?1:1e3,n=60*i,a=60*n;if(e<i)return"1 second";for(var r=[24*a,a,n,i],o=["day","hour","minute","second"],l=!1,c=[],d=0;d<r.length;d++){var h=r[d],u=Math.floor(e/h);if(u){var p=o[d],m=u>1?"s":"";c.push(u+" "+p+m),e%=h}if(l)break;u&&!s&&(l=!0)}return c.join(", ")},htmlEncode:function(e){return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")},getTimestamp:function(){var e=new Date,t=e.getMonth()+1,s=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(s>9?"":"0")+s].join("")+"-"+[("0"+e.getHours()).slice(-2),("0"+e.getMinutes()).slice(-2),("0"+e.getSeconds()).slice(-2)].join("")},loadImage:function(e){return fetch(e,{mode:"cors"}).then(e=>e.blob()).then(e=>createImageBitmap(e))},hideCaptchaBadge:function(){t||(document.body.classList.add("hide-captcha-badge"),t=!0)},destroyPixiPlugins:function(e){["interaction","accessibility"].forEach(t=>{var s=e.plugins[t];s&&(s.destroy(),delete e.plugins[t])})},writeUserData(e,t){let s=t&&window.settings.mbUseName?window.settings.mbName??"Multibox":document.getElementById("nickname").value,i=t?settings.mbSkin??"vanis1":document.getElementById("skinurl").value,n=document.getElementById("teamtag").value;e.writeEscapedStringNT(s),e.writeEscapedStringNT(i),e.writeEscapedStringNT(n)}}},,,,function(e,t,s){var i=s(122),n=s(123),a=s(124);e.exports={cells:i,squares:n,virus:a}},,function(e,t,s){let i=s(1),n=s(4),{cells:a}=s(12);e.exports=class e{constructor(e){this.game=i,this.id=e.id||0,this.flags=e.flags,this.oSize=this.size=e.size,this.updateTime=0,this.newPositionScale=1,this.removed=!1,this.texture=e.texture||a.getTexture(0),this.sprite=new PIXI.Sprite(this.texture),this.sprite.anchor.set(.5),this.sprite.gameData=this,this.x=this.ox=this.sprite.position.x=e.x,this.y=this.oy=this.sprite.position.y=e.y,this.multi=e.multi||!1}update(){let e=i.timestamp-this.updateTime,t=Math.min(Math.max(e/n.drawDelay,0),1);this.x=t*this.newPositionScale*(this.nx-this.ox)+this.ox,this.y=t*this.newPositionScale*(this.ny-this.oy)+this.oy;let s=2*(this.size=t*(this.nSize-this.oSize)+this.oSize),{sprite:a}=this;if(!a)return!1;let{position:r}=a,o=r.x!==this.x||r.y!==this.y||a.width!==s;return!!this.texture.clearedFromCache||!o||(r.x=this.x,r.y=this.y,a.width=a.height=s,this.onUpdate&&this.onUpdate(),!1)}destroy(e){if(!this.removed){if(this.onDestroy&&this.onDestroy(),this.isVirus){let t=i.viruses[this.multi?1:0],s=t.indexOf(this);t.splice(s,1)}i.cells.delete(this.id),i.ownedCells.delete(this.id),this.removed=!0,e?i.removedCells.push(this):this.destroySprite()}}destroySprite(){this.sprite&&(this.sprite.destroy(),this.sprite=null)}}},,,function(e,t,s){var i=s(5);function n(){i.instance.fire({type:"warning",title:"Browser support limited",html:"Skins might not work properly in this browser.<br>Please consider using Chrome.",allowOutsideClick:!1})}function a(e){for(var t="",s=0;s<e.length;s++)t+=String.fromCharCode(e.charCodeAt(s)-2);return t}var r=["pkiigt","p3iigt","pkii5t","pkiic","p3iic","p3ii6","pkii","p3ii","p3i","hciiqv","h6iiqv","hcii2v","hci","cpcn","cuujqng","ewpv","rwuu{","xcikpc","xci3pc","eqem","e2em","uewo","ycpm","yjqtg","yj2tg","unwv","dkvej","d3vej","rqtp","r2tp","tcrg","t6rg","jkvngt","j3vngt","jkvn5t","j3vn5t","pc|k","p6|k","tgvctf","ejkpm","hwem","ujkv"],o=r.map(a),l=r.map(a).sort((e,t)=>t.length-e.length).map(e=>RegExp("[^s]*"+e.split("").join("s*")+"[^s]*","gi"));e.exports={noop:function(){},checkBadWords:function(e){return e=e.toLowerCase(),o.some(t=>e.includes(t))},replaceBadWordsChat:function(e){for(var t=0;t<l.length;t++)e=e.replace(l[t],e=>Array(e.length).fill("*").join(""));return e},notifyUnsupportedBrowser:async function(){window.safari||/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?i.instance.fire({type:"warning",title:"Safari browser is not supported :(",html:"Please consider using Google Chrome.",allowOutsideClick:!1,showCloseButton:!1,showCancelButton:!1,showConfirmButton:!1}):!localStorage.skipUnsupportedAlert&&((localStorage.skipUnsupportedAlert=!0,navigator.userAgent.toLowerCase().includes("edge"))?n():await new Promise(e=>{var t=new Image;t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",t.onload=t.onerror=()=>{e(2===t.height)}})||n())},isFirstVisit:!localStorage.visitedBefore&&(localStorage.visitedBefore=!0,!0)}},,,,,,,function(e,t,s){var i=s(4),n=s(8);PIXI.utils.skipHello();var a=document.getElementById("canvas"),r={resolution:i.customResolution||window.devicePixelRatio||1,view:a,forceCanvas:!i.useWebGL,antialias:!1,powerPreference:"high-performance",backgroundColor:PIXI.utils.string2hex(i.backgroundColor)};r.resolution=i.gameResolution;var o=PIXI.autoDetectRenderer(r);function l(){o.resize(window.innerWidth,window.innerHeight)}l(),n.destroyPixiPlugins(o),window.addEventListener("resize",l),o.clear(),e.exports=o},function(e){function t(){this.data=[]}e.exports=t,t.prototype.write=function(){return new Uint8Array(this.data)},t.prototype.uint8=function(e){this.data.push(e)},t.prototype.uint8Array=function(e){for(var t=0;t<e.length;t++)this.data.push(e[t])},t.prototype.utf8=function(e){e=unescape(encodeURIComponent(e));for(var t=0;t<e.length;t++)this.data.push(e.charCodeAt(t));this.data.push(0)}},,,,function(e,t,s){var i=s(2),n=s(167);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){"use strict";var i=s(31),n=s.n(i);t.default=n.a},function(e){e.exports={data:()=>({})}},function(e,t,s){var i=s(2),n=s(169);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(171);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(173);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(175);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(177);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(179);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){"use strict";var i=s(39),n=s.n(i);t.default=n.a},function(e,t,s){var i=s(89),n=s(1),a=s(5),r=n.replay.database;e.exports={props:["replay"],methods:{async play(e){if(!n.connection.opened||await new Promise(e=>{a.confirm("You will be disconnected",()=>e(!0),()=>e(!1))}))try{n.replay.play(e)}catch(t){console.log(t),n.stop(),a.alert("Waching replays on extension currently does not work, please watch them without extension or render them!")}},downloadReplay(e){a.instance.fire({input:"text",inputValue:e.name,showCancelButton:!0,confirmButtonText:"Download",html:"Only Vanis.io can read replay files.<br>It consists of player positions and other game related data."}).then(t=>{var s=t.value;if(s){var n=new Blob([e.data],{type:"text/plain;charset=utf-8"});i.saveAs(n,s+".vanis")}})},deleteReplay(e){a.confirm("Are you sure that you want to delete this replay?",()=>{r.removeItem(e,()=>{n.events.$emit("replay-removed")})})}}}},function(e,t,s){var i=s(2),n=s(219);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(221);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(223);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(225);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(227);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(231);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(233);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(235);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(237);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(239);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(241);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(243);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(245);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(247);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(249);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){"use strict";var i=s(56),n=s.n(i);t.default=n.a},function(e,t,s){var i=s(1),n=s(8),a=s(4),r=a.minimapSize,o=a.minimapFPS,l=a.minimapSmoothing,c=new PIXI.Container,d={};function h(){return(new Date).toLocaleTimeString()}function u(e,t=!1){if(t&&e<1)return"instant";e=Math.floor(e);let s=Math.floor(e/60),i=Math.floor(s/60);return s<1?t?e+"s":"<1min":i<1?s+"min":s%60==0?i+"hr":i+"hr "+s%60+"min"}e.exports={data:()=>({showMinimap:!1,showMinimapCircle:!1,showMinimapStats:!0,showLocations:a.minimapLocations,interval:null,minimapStatsBottom:10,showClock:a.showClock,showSessionTime:a.showSessionTime,showSpectators:a.showSpectators,showPlayerCount:a.showPlayerCount,showRestartTiming:a.showRestartTiming,systemTime:h(),sessionTime:u(0,!1),restartTime:u(0,!0),spectators:0,playerCount:0,restartTick:0,startTime:null,gameState:i.state}),computed:{playerCountDisplayed(){if(this.gameState.selectedServer){var e=this.gameState.selectedServer.slots;return Math.min(this.playerCount,e)+" / "+e+" players"}return this.playerCount+" player"+(1===this.playerCount?"":"s")}},methods:{initRenderer(e){var t=PIXI.autoDetectRenderer({resolution:1,view:e,width:r,height:r,forceCanvas:!a.useWebGL,antialias:!1,powerPreference:"high-performance",transparent:!0});n.destroyPixiPlugins(t),t.clear(),this.renderer=t},destroyMinimap(){c.destroy(!0),c=new PIXI.Container,this.renderer.clear()},onMinimapShow(){this.interval||(this.showMinimap=!0,this.minimapStatsBottom=r+10,i.events.$on("minimap-positions",this.updatePositions),this.interval=setInterval(this.render,1e3/o))},onMinimapHide(){this.interval&&(this.showMinimap=!1,this.minimapStatsBottom=10,i.events.$off("minimap-positions",this.updatePositions),clearInterval(this.interval),this.interval=null,this.spectators=0,this.playerCount=0)},createNode(e,t,s,i){var n=d[e];n&&n.destroy(!0),s||(s=16777215),i||(i=16777215);var a,r,o,l,c,h=new PIXI.Container;h.newPosition={},h.addChild((a=i,(r=new PIXI.Graphics).beginFill(a),r.drawCircle(0,0,5),r.endFill(),r)),t&&h.addChild((o=t,l=s,(c=new PIXI.Text(o,{strokeThickness:4,lineJoin:"round",fontFamily:"Nunito",fill:l,fontSize:12})).anchor.set(.5),c.pivot.y=15,c)),d[e]=h},destroyNode(e){var t=d[e];t&&(t.destroy(!0),delete d[e])},updatePositions(e){c.removeChildren();for(var t=0;t<e.length;t++){var s=e[t],i=d[s.pid];i&&(i.newPosition.x=s.x*r,i.newPosition.y=s.y*r,c.addChild(i))}this.render()},render(){for(var e=c.children,t=l*(30/o),s=0;s<e.length;s++){var i=e[s];i.position.x=n.lerp(i.position.x,i.newPosition.x,t),i.position.y=n.lerp(i.position.y,i.newPosition.y,t)}this.renderer.render(c)},drawLocationGrid(e,t){var s=r/t;e.globalAlpha=.1,e.strokeStyle="#202020",e.beginPath();for(var i=1;i<t;i++){var n=i*s;e.moveTo(n,0),e.lineTo(n,r),e.moveTo(0,n),e.lineTo(r,n)}e.stroke(),e.closePath()},drawLocationCodes(e,t){var s=r/t,i=s/2;e.globalAlpha=.1,e.font="14px Nunito",e.textAlign="center",e.textBaseline="middle",e.fillStyle="#ffffff";for(var n=0;n<t;n++)for(var a=n*s+i,o=0;o<t;o++){var l=String.fromCharCode(97+o).toUpperCase()+(n+1),c=o*s+i;e.strokeText(l,a,c),e.fillText(l,a,c)}},drawLocations(e){e.width=e.height=r;var t=e.getContext("2d"),s=r/2;if(this.showLocations){if(t.save(),this.showMinimapCircle){var i=new Path2D;i.ellipse(s,s,s,s,0,0,2*Math.PI),t.clip(i)}this.drawLocationGrid(t,5),this.drawLocationCodes(t,5)}t.restore(),this.showMinimapCircle&&(t.globalAlpha=.45,t.beginPath(),t.arc(s,s,s+1,-Math.PI/2,0),t.lineTo(r,0),t.closePath(),t.fill())}},created(){i.events.$on("minimap-show",this.onMinimapShow),i.events.$on("minimap-hide",this.onMinimapHide),i.events.$on("minimap-destroy",this.destroyMinimap),i.events.$on("minimap-create-node",this.createNode),i.events.$on("minimap-destroy-node",this.destroyNode),i.events.$on("minimap-show-locations",e=>{this.showLocations=e,this.drawLocations(this.$refs.locations)}),i.events.$on("minimap-stats-visible",e=>this.showMinimapStats=e),i.events.$on("minimap-stats-changed",e=>{this.spectators=e.spectators,this.playerCount=e.playerCount}),i.events.$on("restart-timing-changed",e=>this.restartTick=e),i.events.$on("game-started",()=>{this.showMinimapCircle=i.border.circle,this.drawLocations(this.$refs.locations)}),i.events.$on("game-stopped",()=>this.restartTick=0),i.events.$on("minimap-stats-invalidate-shown",()=>{this.showClock=a.showClock,this.showSessionTime=a.showSessionTime,this.showSpectators=a.showSpectators,this.showPlayerCount=a.showPlayerCount,this.showRestartTiming=a.showRestartTiming}),i.events.$on("every-second",()=>{this.systemTime=h();var e=(Date.now()-this.startTime)/1e3;this.sessionTime=u(e,!1),this.restartTick&&i.serverTick?(e=(this.restartTick-i.serverTick)/25,this.restartTime=u(e,!0)):this.restartTime=null})},mounted(){this.initRenderer(this.$refs.minimap),this.startTime=Date.now()}}},function(e,t,s){var i=s(2),n=s(251);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(253);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(255);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(257);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(259);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(261);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(263);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(e,t,s){var i=s(2),n=s(266);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},,function(e,t,s){let i=s(1),n=s(4),a=s(5),r=i.actions,o={toggleAutoRespawn(){let e=n.autoRespawn;n.set("autoRespawn",!e),e&&i.state.isAutoRespawning&&i.triggerAutoRespawn(!1);let t="Auto respawn ";t+=e?"disabled":"enabled",a.toast.fire({type:"info",title:t,timer:1500})},respawn(){r.join(Multibox.focused),i.showMenu(!1)},feed:r.feed.bind(r),feedMacro:r.feed.bind(r,!0),aimbot:r.aimbotlocker.bind(r),split:r.split.bind(r,1),splitx2:r.split.bind(r,2),splitx3:r.split.bind(r,3),splitMax:r.split.bind(r,4),split32:r.split.bind(r,5),split64:r.split.bind(r,6),split128:r.split.bind(r,7),split256:r.split.bind(r,8),multi1:r.multicombo.bind(r,1),multi2:r.multicombo.bind(r,2),multi3:r.multicombo.bind(r,3),linesplit:r.linesplit.bind(r),freezeMouse:r.freezeMouse.bind(r),lockLinesplit:r.lockLinesplit.bind(r),stopMovement:r.stopMovement.bind(r),toggleSkins:r.toggleSkins.bind(r),toggleNames:r.toggleNames.bind(r),toggleFood:r.toggleFood.bind(r),toggleMass:r.toggleMass.bind(r),toggleChat:r.toggleChat.bind(r),toggleChatToast:r.toggleChatToast.bind(r),toggleHud:r.toggleHud.bind(r),spectateLock:r.spectateLockToggle.bind(r),selectPlayer:r.targetPlayer.bind(r),saveReplay:i.replay.save,zoomLevel1:r.setZoomLevel.bind(r,1),zoomLevel2:r.setZoomLevel.bind(r,2),zoomLevel3:r.setZoomLevel.bind(r,3),zoomLevel4:r.setZoomLevel.bind(r,4),zoomLevel5:r.setZoomLevel.bind(r,5),multibox(){Multibox&&Multibox.switch()}},l={multibox:"TAB",feed:"",aimbot:"",feedMacro:"W",split:"SPACE",splitx2:"G",splitx3:"H",splitMax:"T",split32:"",split64:"",split128:"",split256:"",multi1:"",multi2:"",multi3:"",linesplit:"Z",lockLinesplit:"",respawn:"",toggleAutoRespawn:"",stopMovement:"",toggleSkins:"",toggleNames:"",toggleMass:"",spectateLock:"Q",selectPlayer:"MOUSE1",saveReplay:"R",toggleChat:"",toggleChatToast:"",toggleHud:"",zoomLevel1:"1",zoomLevel2:"2",zoomLevel3:"3",zoomLevel4:"4",zoomLevel5:"5"};e.exports=i.hotkeyManager=new class e{constructor(){this.version=2,this.pressHandlers=null,this.releaseHandlers=null,this.resetObsoleteHotkeys(),this.load()}resetObsoleteHotkeys(){}load(){this.hotkeys=this.loadHotkeys(),this.loadHandlers(this.hotkeys)}loadHotkeys(){let e=Object.assign({},l),t=localStorage.hotkeys;if(!t)return e;t=JSON.parse(t);let s=Object.values(t);return Object.keys(e).forEach(t=>{let i=e[t];i&&s.includes(i)&&(e[t]="")}),Object.assign(e,t)}saveHotkeys(e){localStorage.hotkeys=JSON.stringify(e)}reset(){return localStorage.removeItem("hotkeys"),this.load(),this.hotkeys}get(){return this.hotkeys}set(e,t){if(!(e in o))return!1;if(this.hotkeys[e]===t)return!0;if(t)for(let s in this.hotkeys)this.hotkeys[s]===t&&(this.hotkeys[s]="");return this.hotkeys[e]=t,this.saveHotkeys(this.hotkeys),this.loadHandlers(this.hotkeys),!0}loadHandlers(e){for(let t in this.pressHandlers={},e){if(!(t in o))continue;let s=o[t],i=e[t];this.pressHandlers[i]=s}this.releaseHandlers={},"feedMacro"in e&&(this.releaseHandlers[e.feedMacro]=r.feed.bind(r,!1))}press(e){let t=this.pressHandlers[e];return!!t&&(t(),!0)}release(e){let t=this.releaseHandlers[e];t?.()}convertKey=e=>e?e.toString().toUpperCase().replace(/^(LEFT|RIGHT|NUMPAD|DIGIT|KEY)/,""):"Unknown"}},,,,,,,function(e,t,s){"use strict";var i=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.showMinimapStats,expression:"showMinimapStats"}],staticClass:"minimap-stats",style:{bottom:this.minimapStatsBottom+"px"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.showClock,expression:"showClock"}]},[this._v(this._s(this.systemTime))]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.showSessionTime,expression:"showSessionTime"}]},[this._v(this._s(this.sessionTime)+" session")]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.showPlayerCount&&this.playerCount,expression:"showPlayerCount && playerCount"}]},[this._v(this._s(this.playerCountDisplayed))]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.showSpectators&&this.spectators,expression:"showSpectators && spectators"}]},[this._v(this._s(this.spectators)+" spectator"+this._s(1===this.spectators?"":"s"))]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.showRestartTiming&&this.restartTime,expression:"showRestartTiming && restartTime"}]},[this._v("Restart in "+this._s(this.restartTime))])]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.showMinimap,expression:"showMinimap"}],staticClass:"container",class:{circle:this.showMinimapCircle}},[t("canvas",{ref:"locations",attrs:{id:"locations"}}),this._v(" "),t("canvas",{ref:"minimap",attrs:{id:"minimap"}})])])},n=[];i._withStripped=!0,s.d(t,"a",function(){return i}),s.d(t,"b",function(){return n})},function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade",appear:""}},[s("div",{staticClass:"modal"},[s("div",{staticClass:"overlay",on:{click:function(){return e.$emit("close")}}}),e._v(" "),s("i",{staticClass:"fas fa-times-circle close-button",on:{click:function(){return e.$emit("close")}}}),e._v(" "),s("div",{staticClass:"wrapper"},[s("transition",{attrs:{name:"scale",appear:""}},[s("div",{staticClass:"content fade-box"},[e._t("default",[e._v("Here should be something")])],2)])],1)])])},n=[];i._withStripped=!0,s.d(t,"a",function(){return i}),s.d(t,"b",function(){return n})},function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"replay-item",style:{backgroundImage:"url('"+e.replay.image+"')"},on:{click:function(){return e.play(e.replay.data)}}},[s("div",{staticClass:"replay-header",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"replay-name"},[e._v(e._s(e.replay.name))]),e._v(" "),s("div",[s("i",{staticClass:"replay-button fas fa-cloud-download-alt",on:{click:function(t){return t.stopPropagation(),e.downloadReplay(e.replay)}}}),e._v(" "),s("i",{staticClass:"replay-button fas fa-trash-alt",on:{click:function(t){return t.stopPropagation(),e.deleteReplay(e.replay.name)}}})])])])},n=[];i._withStripped=!0,s.d(t,"a",function(){return i}),s.d(t,"b",function(){return n})},function(e,t){t.neon=[16776960,65280,65535,16711935],t.basic=[16711680,16744448,16776960,8453888,65280,65408,65535,33023,8388863,16711935,16711808],t.basicd=t.basic.map(e=>{var t=e>>16&255,s=e>>8&255,i=255&e;return(t*=.5)<<16|(s*=.5)<<8|(i*=.5)>>0})},function(e){var t=new class{constructor(){this.ads={}}addAd(e,t,s){this.ads[e]={elementId:t,lastRefresh:0,waitInterval:s||0}}getAd(e){return this.ads[e]||null}pushAd(e){aiptag.cmd.display.push(function(){aipDisplayTag.display(e)})}refreshAd(e){var t=this.getAd(e);if(!t)return!1;var s=Date.now();return!(t.lastRefresh+1e3*t.waitInterval>s)&&(t.lastRefresh=s,this.pushAd(t.elementId),!0)}};t.addAd("menu-box","vanis-io_300x250",30),t.addAd("menu-banner","vanis-io_728x90",120),t.addAd("death-box","vanis-io_300x250_2",30),e.exports={loadAdinplay(e){var t=window.aiptag=t||{};t.cmd=t.cmd||[],t.cmd.display=t.cmd.display||[],t.gdprShowConsentTool=!0;var s=document.createElement("script");s.onload=e,s.src="//api.adinplay.com/libs/aiptag/pub/VAN/vanis.io/tag.min.js",document.head.appendChild(s)},refreshAd:e=>t.refreshAd(e)}},function(e){let t=e=>{let t={border:{},food:{}};if(t.protocol=e.readUInt8(),t.protocol>=4){t.gamemodeId=e.readUInt8(),t.instanceSeed=e.readUInt16LE(),t.playerId=e.readUInt16LE(),t.border.minx=e.readInt16LE(),t.border.miny=e.readInt16LE(),t.border.maxx=e.readInt16LE(),t.border.maxy=e.readInt16LE(),t.flags=e.readUInt8(),t.border.circle=!!(1&t.flags),t.border.width=t.border.maxx-t.border.minx,t.border.height=t.border.maxy-t.border.miny;let{food:s}=t;if(2&t.flags){let i=s.minSize=e.readUInt16LE(),n=s.maxSize=e.readUInt16LE();s.stepSize=n-i}4&t.flags&&(s.ejectedSize=e.readUInt16LE())}else{if(t.protocol>=2)t.gamemodeId=e.readUInt8(),t.instanceSeed=e.readUInt16LE(),t.playerId=e.readUInt16LE(),t.border.width=e.readUInt32LE(),t.border.height=e.readUInt32LE();else{t.gamemodeId=1,t.instanceSeed=e.readInt16LE(),t.playerId=e.readInt16LE();let a=e.readUInt16LE();t.border.width=a,t.border.height=a}t.border.minx=-t.border.width/2,t.border.miny=-t.border.height/2,t.border.maxx=+t.border.width/2,t.border.maxy=+t.border.height/2}return t.border.x=(t.border.minx+t.border.maxx)/2,t.border.y=(t.border.miny+t.border.maxy)/2,t};e.exports=t},function(e,t,s){let i=s(1),n=s(4),{PlayerCell:r,Virus:o,EjectedMass:l,Food:c,Crown:d,DeadCell:h}=s(133),u=(e,t)=>{let s=15&e.type,{id:n,pid:u,x:p,y:m,size:v,flags:g}=e;if(null===v){let{food:f}=i;4===s?v=f.minSize+n%f.stepSize||1:3===s&&(v=f.ejectedSize||1),e.size=v}if(null===p&&4===s){let{border:y}=i;p=e.x=y.minx+v+(y.width-2*v)*i.seededRandom(65536+n),m=e.y=y.miny+v+(y.height-2*v)*i.seededRandom(131072+n)}let{cells:w}=i,b=w.has(n)?w.get(n):null;if(b)b.update(),b.ox=b.x,b.oy=b.y,b.oSize=b.size;else{switch(s){case 1:{let _=i.playerManager.getPlayer(u);e.texture=_.texture,b=new r(e,_);break}case 2:b=new o(e);break;case 3:b=new l(e);break;case 4:if(a)break;b=new c(e);break;case 6:if(a)break;b=new d(e);break;default:{if(a)break;let k=4210752,C=!1;g&&(k=0,128&g&&(k|=7340032),64&g&&(k|=28672),32&g&&(k|=112),16&g&&(C=!0)),b=new h(e,k,C)}}let{scene:x}=i;x[1&g?"addFood":"addCell"](b.sprite),b.createTick=t,b.isVirus&&i.viruses[e.multi?1:0].push(b),w.set(n,b)}null!==p&&(b.nx=p,b.ny=m),null!==v&&(b.nSize=v),b.updateTime=i.timestamp;let{player:S}=b;if(!S)return;let{replay:M}=i;M.updateHistory.length?S.lastUpdateTick=t:delete S.lastUpdateTick,window.aimbotpid===S.pid&&(window.lastNodesTick!==t?(window.nodesTick=[],window.lastNodesTick=t,delete window.hasBeenTriggered):(window.nodesTick.push(b),window.nodesTick.length>15&&!window.hasBeenTriggered&&(window.hasBeenTriggered=!0,GAME.actions.split(2,!1),GAME.actions.aimbotlocker())))},p=(e,t)=>{let{cells:s}=i;if(!s.has(e))return;let a=s.get(e);if(!s.has(t))return void a.destroy();let r=s.get(t);a.update(),a.destroy(n.eatAnimation),a.nx=r.x,a.ny=r.y,a.nSize=0,a.newPositionScale=Math.min(Math.max(a.size/r.nSize,0),1),a.updateTime=i.timestamp},m=(e,t)=>{let{view:s}=e;t||(s.packetId??=++i.ws.packetId);let n=s.packetId,a=!1;for(;;){let r=e.readUInt8(),o=15&r;if(0===r)break;let l=1===o?e.readUInt16BE():null,c=e.readUInt16BE(),d={type:r,pid:l,id:c,x:null,y:null,size:null,flags:4===o,multi:null};if(32&r||(d.x=e.readInt16BE(),d.y=e.readInt16BE()),64&r||(d.size=e.readUInt16BE()),t&&(d.multi=!0),r<<24>>24<0){let h=e.readUInt8();d.flags=h|(d.flags|h>15)}u(d,n),a||l!==i[t?"multiboxPid":"playerId"]||(a=!0)}let{cells:m}=i,v=e.readUInt16BE();for(;v--;){let g=e.readUInt16BE();m.has(g)&&m.get(g).destroy()}for(v=e.readUInt16BE();v--;){let f=e.readUInt16BE(),y=e.readUInt16BE();m.has(f)&&p(f,y)}return a};i.parseNodes=m,e.exports={addOrUpdate:u,remove:p}},function(e,t,s){var i=s(140);function n(e,t,s,n){var a=e.length,r=i._malloc(a),o=new Uint8Array(i.HEAPU8.buffer,r,a);o.set(e);var l=t(r,n);if(!s){var c=new Uint8Array(new ArrayBuffer(a));c.set(o)}return i._free(r),s?l:c}s(141),e.exports={skid:e=>n(e,i._skid,!1),skid3:(e,t)=>n(e,i._skid3,!0,t),skid4:(e,t)=>n(e,i._skid4,!0,t)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var i=s(74),n=s(30),a=Object((s(168),s(0)).a)(n.default,i.a,i.b,!1,null,"0eaeaf66",null);a.options.__file="src/components/modal.vue",t.default=a.exports},function(e,t,s){"use strict";var i=s(75),n=s(38),a=Object((s(218),s(0)).a)(n.default,i.a,i.b,!1,null,"1dbc6ed9",null);a.options.__file="src/components/replay-item.vue",t.default=a.exports},function(e,t,s){"use strict";var i=s(73),n=s(55),a=Object((s(250),s(0)).a)(n.default,i.a,i.b,!1,null,"4c95bd45",null);a.options.__file="src/components/minimap.vue",t.default=a.exports},function(e,t,s){"use strict";s.r(t);var i=s(8),n=(s.n(i),s(119));s.n(n),window.v=5,s(17).notifyUnsupportedBrowser(),s(1),s(130),s(132),s(142),s(148),s(269),s(267),s(268)},function(e,t,s){var i=s(2),n=s(120);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a=(i(n,{insert:"head",singleton:!1}),n.locals?n.locals:{});e.exports=a},function(){},function(e,t,s){let i=null,n=s(4),a=s(12);console.log(n);let r=({width:e,height:t,circle:s})=>{let i=PIXI.utils.string2hex(n.borderColor),a=new PIXI.Graphics;return a.lineStyle(100,i,1,.5),s?a.drawEllipse(e/2,t/2,e/2,t/2):a.drawRect(0,0,e,t),a.endFill(),a.pivot.set(e/2,t/2),a},o=({width:e,height:t})=>{let s=new PIXI.Graphics().beginFill(16777215).drawEllipse(e/2,t/2,e/2,t/2).endFill();return s.pivot.set(e/2,t/2),s};e.exports=class e{constructor(e,t){null===i&&(i=s(1)),this.border=e,this.container=new PIXI.Container,this.background=new PIXI.Container,this.borderSprite=r(e),this.background.addChild(this.borderSprite),this.foreground=new PIXI.Container,this.food=new PIXI.Container,this.food.visible=n.foodVisible,this.resetMassTextStyle(!1),this.container.addChild(this.background,this.food,this.foreground),this.setPosition(),t&&this.setBackgroundImage(),this.background.position.x=e.x,this.background.position.y=e.y}setPosition(){this.container.position.x=window.innerWidth/2,this.container.position.y=window.innerHeight/2}sort(){this.foreground.children.sort((e,t)=>(e=e.gameData).size===(t=t.gameData).size?e.id-t.id:e.size-t.size)}addCell(e){this.foreground.addChild(e)}addFood(e){this.food.addChild(e)}toggleBackgroundImage(e){e&&!this.backgroundSprite?this.setBackgroundImage():e||this.destroyBackgroundImage(!0)}setBackgroundImage(){let e=n.backgroundImageUrl;if(!e){this.destroyBackgroundImage();return}let t=(n.backgroundImageRepeat?PIXI.TilingSprite:PIXI.Sprite).from(e,{});t.width=this.border.width,t.height=this.border.height,t.alpha=n.backgroundImageOpacity,t.anchor.set(.5);let s=this.backgroundSprite;if(s){let i=t.texture!==s.texture;this.destroyBackgroundImage(i)}if(this.backgroundSprite=t,this.background.addChildAt(t,0),!this.border.circle)return;let a=o(this.border);this.background.addChildAt(a,1),this.backgroundSprite.mask=a}destroyBackgroundImage(e){this.backgroundSprite&&(this.backgroundSprite.destroy(!!e),delete this.backgroundSprite)}resetBorder(){this.borderSprite.destroy(),this.borderSprite=r(this.border),this.background.addChild(this.borderSprite)}reloadFoodTextures(){i.cells.forEach(e=>{e.isFood&&e.reloadTexture()})}reloadEjectedTextures(){i.cells.forEach(e=>{e.isEjected&&e.reloadTexture()})}reloadVirusTexture(){a.virus.loadVirusFromUrl(n.virusImageUrl)}resetPlayerLongNames(){i.playerManager.players.forEach(e=>e.applyNameToSprite())}resetNameTextStyle(){i.cells.forEach(e=>{e.isPlayerCell&&e.nameSprite&&(e.nameSprite.destroy(!1),e.nameSprite=null)});let e=n.nameTextStyle;i.playerManager.players.forEach(t=>{let s=t.nameSprite;if(!s)return;let i=s.style.fill;s.style=e,s.style.fill=i,s.updateText()})}resetMassTextStyle(e){e&&this.uninstallMassTextFont();let t=n.massTextStyle;for(PIXI.BitmapFont.from("mass",t,{chars:"1234567890k."});i.massTextPool.length;)i.massTextPool.pop().destroy(!1);i.cells.forEach(e=>{e.isPlayerCell&&e.massText&&(e.sprite.removeChild(e.massText),e.massText.destroy(!1),e.massText=null)})}uninstallMassTextFont(){PIXI.BitmapFont.uninstall("mass")}}},function(e,t,s){var i=s(4),n=s(24),a={};e.exports={getTexture:function(e){var t,s,r,o,l,c,d,h;return a[e]||(a[e]=(t=e,(d=(s=c=(l=i.cellSize)/2,r=t,(o=new PIXI.Graphics).beginFill(r),o.drawCircle(0,0,s),o.endFill(),o)).position.set(c),h=PIXI.RenderTexture.create(l,l),n.render(d,h),h))},destroyCache:function(){for(var e in a)a[e].destroy(!0),delete a[e]}}},function(e,t,s){var i=s(4),n=s(24),a={};e.exports={getTexture:function(e){var t,s,r,o,l,c,d,h;return a[e]||(a[e]=(t=e,(d=(s=c=(l=i.cellSize)/2,r=t,(o=new PIXI.Graphics).beginFill(r),o.drawRect(-s,-s,2*s,2*s),o.endFill(),o)).position.set(c),h=PIXI.RenderTexture.create(l,l),n.render(d,h),h))},destroyCache:function(){for(var e in a)a[e].destroy(!0),delete a[e]}}},function(e,t,s){var i=s(24),{loadImage:n}=s(8),a=PIXI.RenderTexture.create(200,200),r=Promise.resolve();e.exports={getTexture:function(){return a},loadVirusFromUrl:async function(e){await r,r=new Promise(async t=>{var s=await n(e),r=PIXI.Sprite.from(s,void 0,18);r.width=r.height=200,i.render(r,a,!0),r.destroy(!0),t()})}}},function(e,t,s){let i=s(126);e.exports=class e{constructor(e){this.game=e,this.playersRemoving=[],this.players=new Map,this.botCount=0}get playerCount(){return this.players.size-this.botCount}getPlayer=e=>this.players.has(e)?this.players.get(e):null;setPlayerData({pid:e,nickname:t,skin:s,skinUrl:n,hat:a,nameColor:r,tagId:o,bot:l}){!this.players.has(e)&&(this.players.set(e,new i(this.game,e,l)),l&&this.botCount++);let c=this.players.get(e);s&&(n=`https://skins.vanis.io/s/${s}`);let d=c.setName(t,r),h=c.setSkin(n),u=c.setTagId(o);return(d||h||u)&&c.invalidateVisibility(),a&&(c.hat=a),c}invalidateVisibility(e=[]){for(let t of this.players.values())0>e.indexOf(t)&&t.invalidateVisibility()}sweepRemovedPlayers(){let{replay:e}=this.game,t=e.updateHistory[0]?.packetId,s=0;for(;s<this.playersRemoving.length;){let i=this.playersRemoving[s];if(!this.players.has(i)){this.playersRemoving.splice(s,1);continue}let n=this.players.get(i);!t||n.lastUpdateTick&&t>n.lastUpdateTick?(this.removePlayer(i),this.playersRemoving.splice(s,1)):s++}}delayedRemovePlayer(e){this.playersRemoving.push(e)}removePlayer(e){if(!this.players.has(e))return;let t=this.players.get(e);t.bot&&this.botCount--,t.clearCachedData(),this.players.delete(e)}destroy(){for(let e of this.players.keys())this.removePlayer(e);this.botCount=0,this.playersRemoving.splice(0,this.playersRemoving.length)}}},function(e,t,s){var i=s(4),n=s(76),a=n.basic,r=n.basicd,o=i.cellSize;function l(e){e=e||0;var t=new PIXI.Graphics;return t.lineStyle(i.cellBorderSize,0,.5),t.beginFill(e),t.drawCircle(0,0,i.cellSize/2),t.endFill(),t}e.exports=class{constructor(e,t,s,i){this.game=e,this.pid=t,this.bot=s,this.hat=i,this.skinUrl=s?"":null,this.tagId=null,this.isMe=t===e.playerId||t===e.multiboxPid||t===Multibox.pid,this.texture=PIXI.RenderTexture.create(o,o),this.cellContainer=this.createCellContainer(),this.renderCell()}get visibility(){return this.game.tagId===this.tagId?1:2}setOutline(e,t=15){if(e=e||0,0==t)return this.renderCell();var s=i.cellSize/2,n=t,a=new PIXI.Graphics;this.outline&&(this.outline.clear(),this.outline.destroy()),this.outline=a,a.lineStyle(n,e,1),a.drawCircle(0,0,s-(n-1)/2),a.endFill(),a.pivot.set(-s),this.game.renderer.render(a,this.texture,!1)}setCrown(e){this.hasCrown=e;let t=this.pid;this.game.cells.forEach(s=>{s.pid===t&&(e?s.addCrown():s.removeCrown())})}createCellContainer(){var e=new PIXI.Container,t=l(this.getCellColor());return e.pivot.set(-o/2),e.addChild(t),e}createSkinSprite(e){var t=new PIXI.BaseTexture(e),s=new PIXI.Texture(t),n=new PIXI.Sprite(s);return n.width=n.height=i.cellSize,n.anchor.set(.5),n}renderCell(){this.game.renderer.render(this.cellContainer,this.texture,!0)}setTagId(e){return e||(e=null),this.tagId=e,this.bot||this.setTagSprite(),!0}setNameColor(e){return e?(e=parseInt(e,16),this.nameColor=e,this.nameColorCss=PIXI.utils.hex2string(e)):(this.nameColor=null,this.nameColorCss=null),this.nameColor}setName(e,t){return e||(e="Unnamed"),(this.nameFromServer!==e||this.nameColorFromServer!==t)&&(this.nameFromServer=e,this.nameColorFromServer=t,this.applyNameToSprite(),!0)}applyNameToSprite(){var e,t="Unnamed"===this.nameFromServer,s="Long Name"===this.nameFromServer,n=t?"":this.nameFromServer,a=this.name,r=this.nameColor;if(e=t||s?this.setNameColor(null):this.setNameColor(this.nameColorFromServer),this.bot&&(e=this.setNameColor("878787")),this.setNameSprite(n,e),t||s||!(this.nameSprite.texture.width>i.cellLongNameThreshold)||(s=!0,n="Long Name",e=this.setNameColor(null),this.setNameSprite(n,e)),this.name=t?"Unnamed":n,a!==this.name||r!==this.nameColor){var o=e||(this.isMe?16747520:null);this.game.events.$emit("minimap-create-node",this.pid,n,e,o)}}setNameSprite(e,t){this.nameSprite?this.nameSprite.text=e:this.nameSprite=new PIXI.Text(e,i.nameTextStyle),this.nameSprite.style.fill=t||16777215,this.nameSprite.updateText()}setTagSprite(){var e=JSON.parse(`${JSON.stringify(settings.nameTextStyle)}`);e.fontSize=50,this.tagSprite?this.tagSprite.text=`Team ${null==this.tagId?0:this.tagId}`:this.tagSprite=new PIXI.Text(`Team ${null==this.tagId?0:this.tagId}`,e),this.tagSprite.style.fill=this.getTagColor(),this.tagSprite.updateText()}getTagColor(){return window.TagColor.isNull++,window.TagColor[this.tagId]||(window.TagColor[this.tagId]=window.TagColor.array[Math.floor(Math.random()*window.TagColor.array.length)]),parseInt("0x"+window.TagColor[this.tagId].replace("#",""))}setSkin(e){return e||(e=null),e!==this.skinUrl&&(this.abortSkinLoaderIfExist(),this.destroySkin()&&this.renderCell(),this.skinUrl=e,this.skinShown&&this.loadSkinAndRender(),!0)}destroySkin(){return!!this.skinSprite&&(this.skinSprite.mask.destroy(!0),this.skinSprite.destroy(!0),this.skinSprite=null,!0)}loadSkinAndRender(){this.abortSkinLoaderIfExist(),this.abortSkinLoader=this.game.skinLoader.loadSkin(this.skinUrl,e=>{this.skinSprite=this.createSkinSprite(e),this.skinSprite.mask=l(),this.cellContainer.addChild(this.skinSprite.mask,this.skinSprite),this.renderCell()})}invalidateVisibility(){var e,t,s,n=i.showNameColor;this.isMe?(e=i.showOwnName,t=i.showOwnSkin,s=i.showOwnMass):(e=i.showNames>=this.visibility,t=i.showSkins>=this.visibility,s=i.showMass>=this.visibility),e=i.namesEnabled&&e,t=i.skinsEnabled&&t,s=i.massEnabled&&s,t&&!this.skinShown?this.skinSprite?(this.skinSprite.visible=!0,this.renderCell()):this.skinUrl&&this.loadSkinAndRender():!t&&this.skinShown&&(this.abortSkinLoaderIfExist(),this.skinSprite&&(this.skinSprite.visible=!1,this.renderCell())),this.nameShown=e,this.skinShown=t,this.massShown=s,this.nameColorShown=n}abortSkinLoaderIfExist(){this.abortSkinLoader&&(this.abortSkinLoader(),this.abortSkinLoader=null)}getCellColor(){var e=Math.floor(this.game.seededRandom(this.pid)*a.length);return(this.bot?r:a)[e]}clearCachedData(){this.abortSkinLoaderIfExist(),this.destroySkin(),this.cellContainer.destroy(!0),this.texture.destroy(!0),this.texture.clearedFromCache=!0,this.nameSprite&&this.nameSprite.destroy(!0),this.tagSprite&&this.tagSprite.destroy(!0),this.game.events.$emit("minimap-destroy-node",this.pid)}}},,function(e,t,s){var i=s(129);e.exports=class{constructor(){this.loaders={},this.worker=new i,this.worker.addEventListener("message",this.onSkinLoaded.bind(this))}createLoader(e){return{image:null,error:null,callbacks:[e]}}clearCallbacks(){for(var e in this.loaders)delete this.loaders[e]}removeLoaderCallback(e,t){var s=e.callbacks.indexOf(t);s>=0&&e.callbacks.splice(s,1)}loadSkin(e,t){var s=this.loaders[e];return s?s.image?(t(s.image),null):s.error?null:(s.callbacks.push(t),this.removeLoaderCallback.bind(this,s,t)):(s=this.loaders[e]=this.createLoader(t),this.worker.postMessage(e),this.removeLoaderCallback.bind(this,s,t))}onSkinLoaded(e){var{skinUrl:t,bitmap:s,error:i}=e.data,n=this.loaders[t];if(i)return n.error=!0,void(n.callbacks=[]);for(n.image=s;n.callbacks.length;)n.callbacks.pop()(s)}}},function(e,t,s){let i=atob("IWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBvPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9bi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxyKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxuLnI9ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiYib2JqZWN0Ij09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkociwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmInN0cmluZyIhPXR5cGVvZiBlKWZvcih2YXIgbyBpbiBlKW4uZChyLG8sZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxvKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsImEiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPSIiLG4obi5zPTApfShbZnVuY3Rpb24oZSx0KXtvbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2ZldGNoKGUse21vZGU6ImNvcnMifSkudGhlbihlPT5lLmJsb2IoKSkudGhlbihlPT5jcmVhdGVJbWFnZUJpdG1hcChlKSkudGhlbih0PT5zZWxmLnBvc3RNZXNzYWdlKHtza2luVXJsOmUsYml0bWFwOnR9KSkuY2F0Y2godD0+c2VsZi5wb3N0TWVzc2FnZSh7c2tpblVybDplLGVycm9yOiEwfSkpfShlLmRhdGEpfX1dKTs=");e.exports=function(){return new Worker(URL.createObjectURL(new Blob([i],{type:"text/javascript"})))}},function(e,t,i){var n=i(131),a=i(1),r=i(8),o=i(5),l=i(4),c=i(78),d=i(25),h=[],u=[],p=n.createInstance({name:"game-replays"});function m(e){var t=e||h.length;h.splice(0,t),u.splice(0,t)}var v=g(new ArrayBuffer(1));function g(e){return btoa(String.fromCharCode.apply(null,new Uint8Array(e)))}function f(e){e=atob(e);for(var t=new ArrayBuffer(e.length),s=new Uint8Array(t),i=0;i<e.length;i++)s[i]=e.charCodeAt(i);return new DataView(t)}a.replay={database:p,updateHistory:h,addHistory(e){h.push(e);let t=[...a.cells.values()];u.push(t.map(e=>({type:e.type,id:e.id,pid:e.pid,nx:e.nx,ny:e.ny,nSize:e.nSize})));let s=25*l.replayDuration;h.length>s&&m(1)},clearHistory:m,play:function(e){a.running&&a.stop(),a.connection.close(),o.toast.close();var t=1,i=e.split("|");"REPLAY"===i[0]&&(t=parseInt(i[1]),i=i.slice(3));var n=i.map(f),r=c(new s(n.shift(),1)),l=[];if(t>=4){for(;n[0].getUint8(0);)l.push(n.shift());n.shift()}else l.push(n.shift());r.replayUpdates=n,a.start(r),l.forEach(e=>{e.packetId=-1,a.parseMessage(e)}),a.playback.setStartingFrame(),a.showMenu(!1)},save:function(){var e=h.slice(0);if(e.length){var t=[];let{players:s}=a.playerManager;s.forEach(e=>t.push(e)),e.splice(0,1,function(e){for(var t=0,s=0;s<e.length;s++)t+=1+(1===e[s].type?2:0)+2+2+2+2+(e[s].flags?1:0);var i=new ArrayBuffer(1+t+1+2+2),n=new DataView(i);n.setUint8(0,10);var a=1;for(s=0;s<e.length;s++){var r=e[s],o=254&r.flags,l=o?128:0;n.setUint8(a,r.type|l),a++,1===r.type&&(n.setUint16(a,r.pid,!1),a+=2),n.setUint16(a,r.id,!1),a+=2,n.setInt16(a,r.nx,!1),a+=2,n.setInt16(a,r.ny,!1),a+=2,n.setUint16(a,r.nSize,!1),a+=2,o&&(n.setUint8(a,o),a++)}return n.setUint8(a,0),a++,n.setUint16(a,0,!1),a+=2,n.setUint16(a,0,!1),a+=2,n}(u[0]));var i,n,c,m,f,y,w=g(a.initialDataPacket.buffer),b=(n=JSON.stringify(i=(i=t).map(e=>{var t={pid:e.pid,nickname:e.nameFromServer,skinUrl:e.skinUrl};return e.bot&&(t.bot=!0),e.tagId&&(t.tagId=e.tagId),e.hat&&(t.hat=e.hat),e.nameColorFromServer&&(t.nameColor=e.nameColorFromServer),t})),(c=new d).uint8(16),c.utf8(n),g(c.write())),_=e.map(e=>g(e.buffer)).join("|"),k=r.getTimestamp(),C=a.getThumbnail(),x=[];x.push("REPLAY"),x.push(4),x.push(C),x.push(w),a.multiboxPid&&(window.multiPacket=(m=a.multiboxPid,f=new ArrayBuffer(3),(y=new DataView(f)).setUint8(0,8),y.setUint16(1,m,!0),g(f)),x.push(window.multiPacket)),x.push(b),x.push(v),x.push(_);var S=x.join("|");p.setItem(k,S,()=>{a.events.$emit("replay-added");var e="Replay saved!";1===l.showReplaySaved?a.events.$emit("chat-message",e):o.toast.fire({type:"info",title:e,timer:1500})}).catch(e=>{var t="Error saving replay";"string"==typeof e?t+=": "+e:e&&e.message&&(t+=": "+e.message),o.toast.fire({type:"error",title:t})})}}}},,function(e,t,i){let n=i(1),{addOrUpdate:a,remove:r}=i(79);n.playback=new class e{constructor(){this.updates=[],this.dry=!1,this.index=0}removeCell(e,t){let{updates:s}=this,i=s[0];i[3][e]=!0;let n=!!t,a=i[1+(n?1:0)];a.push(e),n&&a.push(t)}parse(e){let{updates:t}=this,s=t[0][0];for(;;){let i=e.readUInt8();if(0===i)break;let n=15&i,a=1===n?e.readUInt16BE():null,r=e.readUInt16BE(),o={type:i,pid:a,id:r,x:null,y:null,size:null,flags:4===n};if(32&i||(o.x=e.readInt16BE(),o.y=e.readInt16BE()),64&i||(o.size=e.readUInt16BE()),i<<24>>24<0){let l=e.readUInt8();o.flags=l|(o.flags|l>15)}s[r]=o}let c=e.readUInt16BE();for(;c--;){let d=e.readUInt16BE();this.removeCell(d,0)}for(c=e.readUInt16BE();c--;)this.removeCell(e.readUInt16BE(),e.readUInt16BE())}reset(){let{updates:e}=this;e.splice(0,e.length),delete e.index}set(e){this.reset(),this.dry=!0;let{updates:t}=this,i=e.length,n=0;for(;i--;){t.unshift([{},[],[],{}]);let a=new s(e[n++],1);this.parse(a)}t.reverse(),delete this.dry,this.index=0}setStartingFrame(){let{cells:e}=n,{updates:t}=this,[s,i,a,r]=t;for(let o of e.keys()){let l=e.get(o);o in r||(o in s?s[o].pid=l.pid:s[o]={type:l.type,id:l.id,pid:l.pid,x:l.nx,y:l.ny,size:l.nSize,flags:l.flags})}for(let c=1;c<t.length;c++){let d=t[c-1],h=t[c];for(let u in h[0]){if(!(u in d[0]))continue;let p=h[0][u],m=d[0][u];16&p.type&&(p.pid=m.pid),32&p.type&&(p.x=m.x,p.y=m.y),64&p.type&&(p.size=m.size)}for(let v in d[0])v in h[3]||v in h[0]||(h[0][v]=d[0][v])}}seek(e,t){let s=this.updates[e];for(let i of n.cells.keys())!t&&i in s[0]||r(i);for(let o in s[0])a(s[0][o]);this.index=e,n.updateCamera(!0)}next(){let{updates:e}=this;if(this.index<e.length){let[t,s,i]=e[this.index++];for(let o in t)a(t[o]);let l=s.length,c=0;for(;c<l;)r(s[c++]);for(l=i.length,c=0;c<l;)r(i[c++],i[c++]);n.updateCamera(!0)}else this.seek(0,!0);n.events.$emit("replay-index-change",this.index)}}},function(e,t,s){t.PlayerCell=s(134),t.Food=s(135),t.Virus=s(136),t.EjectedMass=s(137),t.DeadCell=s(138),t.Crown=s(139)},function(e,t,s){let i=s(1),n=s(4),l=s(14),c=e=>{let t=new PIXI.BitmapText("",{fontName:"mass",align:"right"}),s=e.strokeThickness||0;return t.position.set(-s/2,-s/2),t.anchor.set(.5,-.6),t};class d extends l{constructor(e,t){super(e),this.player=t,this.pid=t.pid,this.isMe=this.pid==i.playerId,t.isMe&&i.ownedCells.add(this.id),t.hasCrown&&this.addCrown(),i.replaying||!t.isMe||(this.addArrow(),a||this.addLine())}updateLineVisibility(){let{line:e}=this;e&&(n.showCellLines?Multibox.connected?e.visible=Multibox.focused?this.multi:!this.multi:e.visible=!0:e.visible=!1)}addLine(){let{x:e,y:t}=i.mouse;this.line=new r([this.x,this.y,e,t]),i.scene.container.addChild(this.line),this.updateLineVisibility()}addArrow(){let e=this.arrowSprite=new PIXI.Sprite.from(Multibox.arrowSprite.texture);e.visible=n.mbActive>=2&&(this.multi?!Multibox.focused:Multibox.focused),e.anchor.set(.5),e.width=e.height=130,e.alpha=.95,e.y=-310,this.sprite.addChild(e)}addCrown(){if(a||!this.crownSprite)return;let e=game.crownPool,t;e.length?t=e.pop():((t=PIXI.Sprite.from("/img/crown.png")).scale.set(.7),t.pivot.set(0,643),t.anchor.x=.5,t.rotation=-.5,t.alpha=.7,t.zIndex=2),this.crownSprite=t,this.sprite.addChild(t)}removeCrown(){let e=this.crownSprite;e&&(this.sprite.removeChild(e),i.crownPool.push(e),this.crownSprite=null)}onUpdate(){if(a)return;if(!this.directionSprite){let e=this.directionSprite=new PIXI.Sprite.from("https://i.postimg.cc/vmZmWCRR/4-Point-Star.png");e.scale.set(.1),e.alpha=.7,e.anchor.set(3.5,3.5),this.sprite.addChild(e)}let t=i.scene.container.scale.x*this.size*i.renderer.resolution,s=t>n.smallTextThreshold,{player:r}=this;if(r.massShown&&!this.massText&&s&&(this.massText=i.massTextPool.pop()||c(n.massTextStyle),this.massText.zIndex=0,this.sprite.addChild(this.massText)),r.nameShown&&!this.nameSprite&&r.nameSprite&&s&&(this.nameSprite=new PIXI.Sprite(r.nameSprite.texture),this.nameSprite.anchor.set(.5),this.nameSprite.zIndex=1,this.sprite.addChild(this.nameSprite)),n.showTag&&!this.tagSprite&&r.tagId!==i&&r.tagSprite){let l=this.tagSprite=new PIXI.Sprite(this.player.tagSprite.texture);l.anchor.set(.5),l.y=180,l.zIndex=1,this.sprite.addChild(l)}let{line:d}=this;if(d&&d.visible){let{x:h,y:u}=i.mouse;d.updatePoints([this.x,this.y,h,u])}if(this.crownSprite&&(this.crownSprite.visible=t>16&&n.showCrown),this.nameSprite&&(this.nameSprite.visible=r.nameShown&&s),this.tagSprite&&(this.tagSprite.visible=n.showTag),n.showDir&&!r.isMe&&this.directionSprite){let p=0,m=!1,{ox:v,oy:g,nx:f,ny:y}=this;f>v?(f-v<3&&(m=!0),p=y<g?m?0:g-y<3?2:1:m?4:y-g<3?2:3):(v-f<3&&(m=!0),p=y<g?m?0:g-y<3?6:7:m?4:y-g<3?6:5),this.directionSprite.rotation=o[p]}this.directionSprite&&(this.directionSprite.visible=n.showDir);let{massText:w}=this;if(w){if(r.massShown&&s){let b=i.getMassText(this.nSize*this.nSize/100);w.text=b,w.visible=!0}else w.visible&&(w.visible=!1)}}onDestroy(){this.arrowSprite&&(this.sprite.removeChild(this.arrowSprite),this.arrowSprite.destroy(),delete this.arrowSprite),this.tagSprite&&(this.sprite.removeChild(this.tagSprite),this.tagSprite.destroy(),delete this.tagSprite),this.directionSprite&&(this.sprite.removeChild(this.directionSprite),this.directionSprite.destroy(),delete this.directionSprite),this.line&&(i.scene.container.removeChild(this.line),this.line.destroy(),delete this.line),this.massText&&(this.sprite.removeChild(this.massText),this.game.massTextPool.push(this.massText)),this.crownSprite&&this.removeCrown()}}d.prototype.type=1,d.prototype.isPlayerCell=!0,e.exports=d},function(e,t,s){s(1);var i=s(14),n=s(12),a=s(4),r=s(76);function o(e){var t;return t=a.useFoodColor?PIXI.utils.string2hex(a.foodColor):r.neon[e%r.neon.length],n.cells.getTexture(t)}class l extends i{constructor(e){e.texture=o(e.id),super(e)}reloadTexture(){this.texture=o(this.id),this.sprite.texture=this.texture}}l.prototype.type=4,l.prototype.isFood=!0,e.exports=l},function(e,t,s){var i=s(14),n=s(12);class a extends i{constructor(e){e.texture=n.virus.getTexture(),super(e)}resetTexture(){this.destroySprite(),this.texture=n.virus.getTexture(),this.sprite=new PIXI.Sprite(this.texture),this.sprite.anchor.set(.5),this.sprite.gameData=this}}a.prototype.type=2,a.prototype.isVirus=!0,e.exports=a},function(e,t,s){var i=s(4),n=s(14),a=s(12);function r(){var e=PIXI.utils.string2hex(i.ejectedColor);return a.cells.getTexture(e)}class o extends n{constructor(e){e.texture=r(),super(e)}reloadTexture(){this.texture=r(),this.sprite.texture=this.texture}}o.prototype.type=3,o.prototype.isEjected=!0,e.exports=o},function(e,t,s){var i=s(14),n=s(12);class a extends i{constructor(e,t,s){e.texture=n[s?"squares":"cells"].getTexture(t||4210752),super(e),this.sprite.alpha=.5}}a.prototype.type=5,a.prototype.isDead=!0,e.exports=a},function(e,t,s){var i=s(14);class n extends i{constructor(e){e.texture=PIXI.Texture.from("/img/crown.png"),super(e),this.sprite.alpha=.7}}n.prototype.type=6,n.prototype.isCrown=!0,e.exports=n},function(e,t,s){var i,n=void 0!==n?n:{},a=Object.assign({},n),r=!0,o=!1,l="";(r||o)&&(o?l=self.location.href:"undefined"!=typeof document&&document.currentScript&&(l=document.currentScript.src),l=0!==l.indexOf("blob:")?l.substr(0,l.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o&&(i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),(e,t,s)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{200==i.status||0==i.status&&i.response?t(i.response):s()},i.onerror=s,i.send(null)}),n.print||console.log.bind(console);var c,d=n.printErr||console.warn.bind(console);Object.assign(n,a),a=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit,n.wasmBinary&&(c=n.wasmBinary),n.noExitRuntime,"object"!=typeof WebAssembly&&P("no native wasm support detected");var h,u,p,m,v,g,f,t,y,w=!1,b="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function _(e,t){return e?function(e,t,s){for(var i=t+s,n=t;e[n]&&!(n>=i);)++n;if(n-t>16&&e.buffer&&b)return b.decode(e.subarray(t,n));for(var a="";t<n;){var r=e[t++];if(128&r){var o=63&e[t++];if(192!=(224&r)){var l=63&e[t++];if((r=224==(240&r)?(15&r)<<12|o<<6|l:(7&r)<<18|o<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(r);else{var c=r-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&r)<<6|o)}else a+=String.fromCharCode(r)}return a}(p,e,t):""}function k(e,t,s){return function(e,t,s,i){if(!(i>0))return 0;for(var n=s,a=s+i-1,r=0;r<e.length;++r){var o=e.charCodeAt(r);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++r)),o<=127){if(s>=a)break;t[s++]=o}else if(o<=2047){if(s+1>=a)break;t[s++]=192|o>>6,t[s++]=128|63&o}else if(o<=65535){if(s+2>=a)break;t[s++]=224|o>>12,t[s++]=128|o>>6&63,t[s++]=128|63&o}else{if(s+3>=a)break;t[s++]=240|o>>18,t[s++]=128|o>>12&63,t[s++]=128|o>>6&63,t[s++]=128|63&o}}return t[s]=0,s-n}(e,p,t,s)}function C(e){for(var t=0,s=0;s<e.length;++s){var i=e.charCodeAt(s);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++s):t+=3}return t}var x=[],S=[],M=[],T=0,I=null,L=null;function P(e){throw n.onAbort&&n.onAbort(e),d(e="Aborted("+e+")"),w=!0,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}var E,U,R="data:application/octet-stream;base64,";function A(e){return e.startsWith(R)}function N(e){try{if(e==E&&c)return new Uint8Array(c);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}catch(t){P(t)}}function D(e){for(;e.length>0;)e.shift()(n)}function O(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){f[this.ptr+4>>2]=e},this.get_type=function(){return f[this.ptr+4>>2]},this.set_destructor=function(e){f[this.ptr+8>>2]=e},this.get_destructor=function(){return f[this.ptr+8>>2]},this.set_refcount=function(e){g[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,u[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=u[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,u[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=u[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=g[this.ptr>>2];g[this.ptr>>2]=e+1},this.release_ref=function(){var e=g[this.ptr>>2];return g[this.ptr>>2]=e-1,1===e},this.set_adjusted_ptr=function(e){f[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return f[this.ptr+16>>2]},this.get_exception_ptr=function(){if(e$(this.get_type()))return f[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}function F(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw TypeError("Unknown type size: "+e)}}A(E="js/wauth3.wasm?e8a9d050c93bafa1d0fc")||(U=E,E=n.locateFile?n.locateFile(U,l):l+U);var B=void 0;function W(e){for(var t="",s=e;p[s];)t+=B[p[s++]];return t}var z={},H={},V={};function Z(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function G(e,t){return e=Z(e),Function("body","return function "+e+"() {\n        return body.apply(this, arguments);\n};\n")(t)}function j(e,t){var s=G(t,function(e){this.name=t,this.message=e;var s=Error(e).stack;void 0!==s&&(this.stack=this.toString()+"\n"+s.replace(/^Error(:[^\n]*)?\n/,""))});return s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},s}var K=void 0;function X(e){throw new K(e)}function Y(e,t,s={}){if(!("argPackAdvance"in t))throw TypeError("registerType registeredInstance requires argPackAdvance");var i=t.name;if(e||X('type "'+i+'" must have a positive integer typeid pointer'),H.hasOwnProperty(e)){if(s.ignoreDuplicateRegistrations)return;X("Cannot register type '"+i+"' twice")}if(H[e]=t,delete V[e],z.hasOwnProperty(e)){var n=z[e];delete z[e],n.forEach(e=>e())}}var J=[],q=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Q(e){e>4&&0==--q[e].refcount&&(q[e]=void 0,J.push(e))}var ee={toValue:e=>(e||X("Cannot use deleted val. handle = "+e),q[e].value),toHandle(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=J.length?J.pop():q.length;return q[t]={refcount:1,value:e},t}}};function et(e){return this.fromWireType(g[e>>2])}var es="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function ei(e,t){for(var s=e,i=s>>1,n=i+t/2;!(i>=n)&&v[i];)++i;if((s=i<<1)-e>32&&es)return es.decode(p.subarray(e,s));for(var a="",r=0;!(r>=t/2);++r){var o=m[e+2*r>>1];if(0==o)break;a+=String.fromCharCode(o)}return a}function en(e,t,s){if(void 0===s&&(s=2147483647),s<2)return 0;for(var i=t,n=(s-=2)<2*e.length?s/2:e.length,a=0;a<n;++a){var r=e.charCodeAt(a);m[t>>1]=r,t+=2}return m[t>>1]=0,t-i}function ea(e){return 2*e.length}function er(e,t){for(var s=0,i="";!(s>=t/4);){var n=g[e+4*s>>2];if(0==n)break;if(++s,n>=65536){var a=n-65536;i+=String.fromCharCode(55296|a>>10,56320|1023&a)}else i+=String.fromCharCode(n)}return i}function eo(e,t,s){if(void 0===s&&(s=2147483647),s<4)return 0;for(var i=t,n=i+s-4,a=0;a<e.length;++a){var r=e.charCodeAt(a);if(r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++a)),g[t>>2]=r,(t+=4)+4>n)break}return g[t>>2]=0,t-i}function el(e){for(var t=0,s=0;s<e.length;++s){var i=e.charCodeAt(s);i>=55296&&i<=57343&&++s,t+=4}return t}function ec(e,t){var s,i,n=H[e];return void 0===n&&X(t+" has unknown type "+(s=ey(e),i=W(s),ef(s),i)),n}var ed={};function eh(e){var t=ed[e];return void 0===t?W(e):t}var eu=[];function ep(){return"object"==typeof globalThis?globalThis:Function("return this")()}var em=[];(function(){for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);B=e})(),K=n.BindingError=j(Error,"BindingError"),n.InternalError=j(Error,"InternalError"),n.count_emval_handles=function e(){for(var t=0,s=5;s<q.length;++s)void 0!==q[s]&&++t;return t},n.get_first_emval=function e(){for(var t=5;t<q.length;++t)if(void 0!==q[t])return q[t];return null};var ev,eg={n:function(e,t,s){throw new O(e).init(t,s),e},r:function(e,t,s,i,n){},v:function(e,t,s,i,n){var a=F(s);Y(e,{name:t=W(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?i:n},argPackAdvance:8,readValueFromPointer:function(e){var i;if(1===s)i=u;else if(2===s)i=m;else{if(4!==s)throw TypeError("Unknown boolean type size: "+t);i=g}return this.fromWireType(i[e>>a])},destructorFunction:null})},u:function(e,t){Y(e,{name:t=W(t),fromWireType:function(e){var t=ee.toValue(e);return Q(e),t},toWireType:function(e,t){return ee.toHandle(t)},argPackAdvance:8,readValueFromPointer:et,destructorFunction:null})},m:function(e,s,i){var n=F(i);Y(e,{name:s=W(s),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:function e(s,i){switch(i){case 2:return function(e){return this.fromWireType(t[e>>2])};case 3:return function(e){return this.fromWireType(y[e>>3])};default:throw TypeError("Unknown float type: "+s)}}(s,n),destructorFunction:null})},d:function(e,t,s,i,n){t=W(t),-1===n&&(n=4294967295);var a=F(s),r=e=>e;if(0===i){var o=32-8*s;r=e=>e<<o>>>o}var l=t.includes("unsigned");Y(e,{name:t,fromWireType:r,toWireType:l?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:function e(t,s,i){switch(s){case 0:return i?function(e){return u[e]}:function(e){return p[e]};case 1:return i?function(e){return m[e>>1]}:function(e){return v[e>>1]};case 2:return i?function(e){return g[e>>2]}:function(e){return f[e>>2]};default:throw TypeError("Unknown integer type: "+t)}}(t,a,0!==i),destructorFunction:null})},b:function(e,t,s){var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function n(e){var t=f,s=t[e>>=2],n=t[e+1];return new i(t.buffer,n,s)}Y(e,{name:s=W(s),fromWireType:n,argPackAdvance:8,readValueFromPointer:n},{ignoreDuplicateRegistrations:!0})},l:function(e,t){var s="std::string"===(t=W(t));Y(e,{name:t,fromWireType:function(e){var t,i=f[e>>2],n=e+4;if(s)for(var a=n,r=0;r<=i;++r){var o=n+r;if(r==i||0==p[o]){var l=_(a,o-a);void 0===t?t=l:(t+="\0",t+=l),a=o+1}}else{var c=Array(i);for(r=0;r<i;++r)c[r]=String.fromCharCode(p[n+r]);t=c.join("")}return ef(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i,n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||X("Cannot pass non-string to std::string"),i=s&&n?C(t):t.length;var a=ew(4+i+1),r=a+4;if(f[a>>2]=i,s&&n)k(t,r,i+1);else if(n)for(var o=0;o<i;++o){var l=t.charCodeAt(o);l>255&&(ef(r),X("String has UTF-16 code units that do not fit in 8 bits")),p[r+o]=l}else for(o=0;o<i;++o)p[r+o]=t[o];return null!==e&&e.push(ef,a),a},argPackAdvance:8,readValueFromPointer:et,destructorFunction:function(e){ef(e)}})},h:function(e,t,s){var i,n,a,r,o;s=W(s),2===t?(i=ei,n=en,r=ea,a=()=>v,o=1):4===t&&(i=er,n=eo,r=el,a=()=>f,o=2),Y(e,{name:s,fromWireType:function(e){for(var s,n=f[e>>2],r=a(),l=e+4,c=0;c<=n;++c){var d=e+4+c*t;if(c==n||0==r[d>>o]){var h=i(l,d-l);void 0===s?s=h:(s+="\0",s+=h),l=d+t}}return ef(e),s},toWireType:function(e,i){"string"!=typeof i&&X("Cannot pass non-string to C++ string type "+s);var a=r(i),l=ew(4+a+t);return f[l>>2]=a>>o,n(i,l+4,a+t),null!==e&&e.push(ef,l),l},argPackAdvance:8,readValueFromPointer:et,destructorFunction:function(e){ef(e)}})},w:function(e,t){Y(e,{isVoid:!0,name:t=W(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},f:function(e,t,s){e=ee.toValue(e),t=ec(t,"emval::as");var i=[],n=ee.toHandle(i);return f[s>>2]=n,t.toWireType(i,e)},A:function(e,t,s,i,n){var a,r;return(e=eu[e])(t=ee.toValue(t),s=eh(s),(r=[],f[(a=i)>>2]=ee.toHandle(r),r),n)},a:Q,c:function(e){return 0===e?ee.toHandle(ep()):(e=eh(e),ee.toHandle(ep()[e]))},z:function(e,t){var s,i,n=function(e,t){for(var s=Array(e),i=0;i<e;++i)s[i]=ec(f[t+4*i>>2],"parameter "+i);return s}(e,t),a=n[0],r=a.name+"_$"+n.slice(1).map(function(e){return e.name}).join("_")+"$",o=em[r];if(void 0!==o)return o;for(var l=["retType"],c=[a],d="",h=0;h<e-1;++h)d+=(0!==h?", ":"")+"arg"+h,l.push("argType"+h),c.push(n[1+h]);var u="return function "+Z("methodCaller_"+r)+"(handle, name, destructors, args) {\n",p=0;for(h=0;h<e-1;++h)u+="    var arg"+h+" = argType"+h+".readValueFromPointer(args"+(p?"+"+p:"")+");\n",p+=n[h+1].argPackAdvance;for(u+="    var rv = handle[name]("+d+");\n",h=0;h<e-1;++h)n[h+1].deleteObject&&(u+="    argType"+h+".deleteObject(arg"+h+");\n");return a.isVoid||(u+="    return retType.toWireType(destructors, rv);\n"),u+="};\n",l.push(u),s=(function(e,t){if(!(e instanceof Function))throw TypeError("new_ called with constructor type "+typeof e+" which is not a function");var s=G(e.name||"unknownFunctionName",function(){});s.prototype=e.prototype;var i=new s,n=e.apply(i,t);return n instanceof Object?n:i})(Function,l).apply(null,c),i=eu.length,eu.push(s),o=i,em[r]=o,o},B:function(e){return e=eh(e),ee.toHandle(n[e])},i:function(e,t){return e=ee.toValue(e),t=ee.toValue(t),ee.toHandle(e[t])},y:function(e){e>4&&(q[e].refcount+=1)},j:function(e){return ee.toHandle(eh(e))},D:function(e){return!(e=ee.toValue(e))},e:function(e){(function(e){for(;e.length;){var t=e.pop();e.pop()(t)}})(ee.toValue(e)),Q(e)},x:function(e,t){var s=(e=ec(e,"_emval_take_value")).readValueFromPointer(t);return ee.toHandle(s)},s:function(){P("")},o:function(e,t,s,i,a,r,o,l){n.su.playback.dry?n.su.playback.updates[0][0][t]={type:e,id:t,pid:s,x:i,y:a,size:r,flags:o}:n.Vi.addOrUpdate({type:e,id:t,pid:s,x:i,y:a,size:r,flags:o},l)},g:function(e,t,s){n.su.playback.dry?(n.su.playback.updates[0][3][e]=!0,n.su.playback.updates[0][1+t].push(e),t&&n.su.playback.updates[0][1+t].push(s)):n.Vi.remove(e,t?s:-1)},C:function(e,t,s){try{for(var i=n[_(e)],a=i&&i[_(t)],r=a&&a[_(s)],o=arguments.callee,l=0;l<4+!a.df;l++)o=o.caller;if(o===r)return n.__heap_chunk_length_s||64}catch(c){n.PointerExeptions&&n.PointerExeptions(c)}return -1},p:function(e){var t=n[_(e)]+"",s=C(t)+1,i=ew(s);return k(t,i,s),i},t:function(e){p.length,P("OOM")},k:function(){return 1+Math.floor(2147483646*Math.random())},q:function(e,t){return ee.toHandle(ee.toValue(e).keys(ee.toValue(t)))}},ef=(function(){var e={a:eg};function s(e,s){var i,a,r=e.exports;n.asm=r,i=(h=n.asm.E).buffer,n.HEAP8=u=new Int8Array(i),n.HEAP16=m=new Int16Array(i),n.HEAP32=g=new Int32Array(i),n.HEAPU8=p=new Uint8Array(i),n.HEAPU16=v=new Uint16Array(i),n.HEAPU32=f=new Uint32Array(i),n.HEAPF32=t=new Float32Array(i),n.HEAPF64=y=new Float64Array(i),n.asm.K,a=n.asm.F,S.unshift(a),function(e){if(T--,n.monitorRunDependencies&&n.monitorRunDependencies(T),0==T&&(null!==I&&(clearInterval(I),I=null),L)){var t=L;L=null,t()}}()}function i(e){s(e.instance)}function a(t){return(!c&&(r||o)&&"function"==typeof fetch?fetch(E,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+E+"'";return e.arrayBuffer()}).catch(function(){return N(E)}):Promise.resolve().then(function(){return N(E)})).then(function(t){return WebAssembly.instantiate(t,e)}).then(function(e){return e}).then(t,function(e){d("failed to asynchronously prepare wasm: "+e),P(e)})}if(T++,n.monitorRunDependencies&&n.monitorRunDependencies(T),n.instantiateWasm)try{return n.instantiateWasm(e,s)}catch(l){return d("Module.instantiateWasm callback failed with error: "+l),!1}c||"function"!=typeof WebAssembly.instantiateStreaming||A(E)||"function"!=typeof fetch?a(i):fetch(E,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(i,function(e){return d("wasm streaming compile failed: "+e),d("falling back to ArrayBuffer instantiation"),a(i)})})}(),n._skid=function(){return(n._skid=n.asm.G).apply(null,arguments)},n._free=function(){return(ef=n._free=n.asm.H).apply(null,arguments)}),ey=(n._skid3=function(){return(n._skid3=n.asm.I).apply(null,arguments)},n._skid4=function(){return(n._skid4=n.asm.J).apply(null,arguments)},n.___getTypeName=function(){return(ey=n.___getTypeName=n.asm.L).apply(null,arguments)}),ew=(n.__embind_initialize_bindings=function(){return(n.__embind_initialize_bindings=n.asm.M).apply(null,arguments)},n._malloc=function(){return(ew=n._malloc=n.asm.N).apply(null,arguments)}),e$=function(){return(e$=n.asm.O).apply(null,arguments)};function eb(){function e(){ev||(ev=!0,n.calledRun=!0,w||(D(S),n.onRuntimeInitialized&&n.onRuntimeInitialized(),function(){var e;if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),M.unshift(e);D(M)}()))}T>0||(function(){var e;if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)e=n.preRun.shift(),x.unshift(e);D(x)}(),T>0||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),e()},1)):e()))}if(n.___start_em_js=3812,n.___stop_em_js=3946,L=function e(){ev||eb(),ev||(L=e)},n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();eb(),n.su=s(1),n.Vi=s(79),n.sv=document.currentScript,n.__heap_max_bytes_s=function(e){return 128&e},e.exports=window.Module=n},function(e,t,s){e.exports=s.p+"js/wauth3.wasm"},function(e,t,i){let n=i(1),a=i(5),{writeUserData:r}=i(8),o=i(143),l=(e,t)=>{a.toast.fire({type:t?"error":"info",title:e,timer:t?5e3:2e3})};n.connection=new class e{constructor(){this.socketCount=0,this.opened=!1}onClosed(e){delete n.currentWsId,this.opened=!1,n.running&&n.stop();let t;if(1003===e.code)t=1500,l("Server restarting...",!1);else{t=3500+~~(100*Math.random());let s="You have been disconnected";e.reason&&(s+=` (${e.reason})`),l(s,!0)}setTimeout(()=>{this.opened||n.events.$emit("reconnect-server")},t),n.showMenu(!0)}onRejected(){delete n.currentWsId,this.opened=!1,l("Connection rejected",!0)}open(e){Multibox.close(),n.running&&n.stop(),this.close(),n.events.$emit("chat-clear"),this.opened=!0;let t=n.ws=new WebSocket(e,"tFoL46WDlZuRja7W6qCl");t.binaryType="arraybuffer",t.packetId=0,t.onopen=()=>{n.connection.opened&&(n.currentWsId=t.id=this.socketCount++,n.state.connectionUrl=e,t.onclose=this.onClosed.bind(this))},t.onclose=this.onRejected.bind(this),t.onmessage=e=>{let{data:t}=e;n.nwData+=t.byteLength,o(new DataView(t))}}close(){Multibox.close(),n.debugElement.innerHTML="";let{ws:e}=n;e&&(e.onmessage=null,e.onclose=null,e.onerror=null,e.close(),delete n.ws,delete n.state.connectionUrl,this.opened=!1)}send(e,t,i=!1){if(e instanceof s&&(e=e.view),!(t?Multibox.opened&&(i||Multibox.ready):this.opened))return!1;let a=t?Multibox.ws:n.ws;return console.assert(!!a,"Socket not defined?"),a.send(e),!0}sendMouse(){let e=s.fromSize(5);e.writeUInt8(16);let{x:t,y:i}=n.mouse;e.writeInt16LE(t),e.writeInt16LE(i),this.send(e,Multibox.focused),Multibox.connected&&(n.alive(!1)&&n.alive(!0)||this.send(e,n.alive(!1)))}sendOpcode(e,t){let i=s.fromSize(1);i.writeUInt8(e),this.send(i,t)}ping(){n.pingstamp=performance.now(),this.sendOpcode(3)}sendJoinData(e,t){let i=s.fromSize(2+e.length+7);i.writeUInt8(5),i.writeUInt8(n.clientVersion),e.forEach(e=>i.writeUInt8(e)),r(i,!!t);let a=localStorage.vanisToken;a&&/^wss?:\/\/[a-zA-Z0-9_-]+\.vanis\.io/i.test(n.ws.url)&&i.writeStringNT(a),this.send(i,t,t)}sendRecaptchaToken(e,t){e=unescape(encodeURIComponent(e));let i=s.fromSize(1+e.length+1);i.writeUInt8(11),i.writeStringNT(e),this.send(i,t)}sendChatMessage(e,t){e=unescape(encodeURIComponent(e));let i=s.fromSize(1+e.length+1);i.writeUInt8(99),i.writeString(e),this.send(i,t)}}},function(e,t,i){let a=i(1),r=i(5),o=i(78),{htmlEncode:l}=i(8);a.parseLeaderboard=e=>{let t=[];for(;;){let s=e.readUInt16LE();if(0===s){a.events.$emit("leaderboard-update",t);return}let i=a.playerManager.getPlayer(s);if(!i)continue;let n={pid:s,position:t.length+1,text:i.name,color:i.nameColorCss||"#ffffff",bold:!!i.nameColor};t.push(n)}},a.parseMinimap=e=>{let t=[];for(;;){let s=e.readUInt16LE();if(0===s){a.events.$emit("minimap-positions",t);return}e.offset++;let i=e.readUInt8(),n=e.readUInt8();t.push({pid:s,x:i/255,y:n/255})}},a.parsePlayers=e=>{let t=JSON.parse(e.readEscapedString()),s=t.find(e=>e.pid===a.playerId),i=s&&a.setTagId(s.tagId),{playerManager:n}=a,r=[];for(let o of t){let l=n.setPlayerData(o);r.push(l)}i&&(a.events.$emit("minimap-positions",[]),n.invalidateVisibility(r))};let c=e=>{let t=new s(e),i=t.readUInt8();switch(i){case 1:{let c=o(t);a.initialDataPacket=e,a.start(c);return}case 2:{let d=new Uint8Array(e.buffer,1);a.connection.sendJoinData(new n(d).build(),!1);return}case 3:{let h=performance.now()-a.pingstamp;a.updateStats(Math.round(h));return}case 4:{let{playerManager:u}=a;for(;;){let p=t.readUInt16LE();if(0===p)return;u.delayedRemovePlayer(p)}}case 6:a.connection.sendOpcode(6);return;case 7:{let m=t.readUInt8(),v,g;if(1&m){let f=t.readUInt16LE();g=a.playerManager.getPlayer(f)}if(2&m){let y=t.readUInt16LE();v=a.playerManager.getPlayer(y)}v&&v.setCrown(!1),g&&g.setCrown(!0);return}case 8:if(a.multiboxPid)return;a.multiboxPid=t.readUInt16LE();return;case 9:{let{playerManager:w}=a,b=a.activePid;b&&w.getPlayer(b).setOutline(16777215),b=a.activePid=t.readUInt16LE(),w.getPlayer(b).setOutline(16711935);return}case 10:{a.timestamp=performance.now();let _=a.parseNodes(t,!1),{replay:k}=a;_&&!a.replaying?k.addHistory(e):k.clearHistory();let{state:C}=a;C.isAlive=_,_?a.spectating=!1:C.isAutoRespawning&&37==++a.ticksSinceDeath&&a.triggerAutoRespawn(!1),a.serverTick++,a.playerManager.sweepRemovedPlayers(),a.updateCamera(!0);return}case 11:a.parseLeaderboard(t);return;case 12:a.parseMinimap(t);return;case 13:{let x={pid:t.readInt16LE(),text:t.readString16()};if(0===x.pid){let{selectedServer:S}=a.state;S&&/Welcome to Vanis\.io,.+\!/.test(x.text)&&(x.text=`Connected to ${S.region} ${S.name}`),a.events.$emit("chat-message",x.text);return}let M=a.playerManager.getPlayer(x.pid);if(!M)return;x.from=M.name;let{nameColorCss:T}=M;T&&(x.fromColor=T),a.events.$emit("chat-message",x);return}case 14:{let I=packet.readUInt8(),L={};if(2&I){let P=packet.readUInt8();typeId>0&&typeId<4&&(L.type=({1:"success",2:"error",3:"warning",4:"info"})[P])}4&I&&(L.timer=packet.readUInt16LE());let E=packet.readString();L.title=l(E),r.toast.fire(L);return}case 15:{let{playerManager:U}=a;for(;;){let R=packet.readUInt16LE();if(0===R)return;let A=packet.readString16(),N=packet.readString(),D={pid:R,nickname:A,skinUrl:N};U.setPlayerData(D)}}case 16:a.parsePlayers(t);return;case 17:a.camera.sx=t.readInt16LE(),a.camera.sy=t.readInt16LE();return;case 18:{let{dual:O}=a;O.connected&&a.alive(!0)||a.replay.clearHistory(),a.clearNodes();return}case 19:{let F=0!==t.readUInt8();if(a.events.$emit("xp-update",t.readUInt32LE()),!F)return;let B=t.readUInt16LE(),W=atob("WW91IGhhdmUgcmVhY2hlZCBsZXZlbA==");r.toast.fire({background:"#b58b00",title:`${W} ${B}!`,type:"success",timer:4e3});return}case 20:a.handleDeath(t,!1);return;case 21:return;case 22:if(!window.grecaptcha)return void alert("Captcha library is not loaded");a.events.$emit("show-image-captcha");return;case 23:a.state.spectators=t.readUInt16LE();return;case 24:a.serverTick=t.readUInt32LE(),a.events.$emit("restart-timing-changed",t.readUInt32LE());return;case 25:a.events.$emit("update-cautions",{custom:t.readString16()});return;case 26:{let{state:z}=a;z.playButtonDisabled=!!t.readUInt8(),t.length>t.offset+1&&(z.playButtonText=t.readString()||"Play");return}}};e.exports=a.parseMessage=c},function(e){e.exports=function(e){var t=1,s=e.getInt16(t,!0);t+=2;for(var i="",n="";0!=(n=e.getUint16(t,!0));)t+=2,i+=String.fromCharCode(n);return{pid:s,text:i}}},function(e){e.exports=function(e){for(var t=1,s=[];;){var i=e.getUint16(t,!0);if(t+=3,!i)break;var n=e.getUint8(t,!0)/255;t+=1;var a=e.getUint8(t,!0)/255;t+=1,s.push({pid:i,x:n,y:a})}return s}},function(e){e.exports=function(e,t){for(var s=1,i=[];;){var n=t.getUint16(s,!0);if(s+=2,!n)break;var a=e.playerManager.getPlayer(n);a&&i.push({pid:n,position:1+i.length,text:a.name,color:a.nameColorCss||"#ffffff",bold:!!a.nameColor})}return i}},function(e){e.exports=window.WebSocket},function(e,t,s){let i=s(1);s(149);let n=s(66),a=i.renderer.view,r=n.pressed=new Set;window.addEventListener("blur",()=>{r.clear()});let o=/firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"wheel",l=e=>{let t=i.actions.findPlayerUnderMouse(),s=t&&t.player;s&&i.events.$emit("context-menu",e,s)},c=()=>{i.scene.setPosition()},d=e=>i.actions.zoom(e),h=e=>{let t={x:e.clientX,y:e.clientY};Object.assign(i.rawMouse,t),i.updateMouse()},u=e=>{e.preventDefault(),a.focus();let t=`MOUSE${e.button}`;if(i.spectating&&0===e.button){let s=i.actions.findPlayerUnderMouse();s&&i.actions.spectate(s.pid),i.actions.targetPlayer(s?s.pid:null)}else n.press(t)},p=e=>{let t="MOUSE"+e.button;n.release(t),r.delete(t)},m=e=>{let t=e.target===a;if(!t&&e.target!==document.body)return;let s=n.convertKey(e.code);if(!r.has(s)&&(!e.ctrlKey||"TAB"!==s)){if(r.add(s),"ESCAPE"===s){i.replaying?(r.clear(),i.stop(),i.showMenu(!0)):i.state.isAutoRespawning||Multibox.autoRespawning?i.triggerDeathDelay():i.showMenu();return}if("ENTER"===s){i.events.$emit("chat-focus");return}t&&n.press(s)&&e.preventDefault()}},v=e=>{let t=n.convertKey(e.code);n.release(t),r.delete(t)};i.eventListeners=e=>{e?(a.addEventListener("contextmenu",l),window.addEventListener("resize",c),a.addEventListener(o,d,{passive:!0}),document.body.addEventListener("mousemove",h),a.addEventListener("mousedown",u),document.addEventListener("mouseup",p),document.body.addEventListener("keydown",m),document.body.addEventListener("keyup",v),window.onbeforeunload=()=>"Are you sure you want to close the page?"):(a.removeEventListener("contextmenu",l),window.removeEventListener("resize",c),a.removeEventListener(o,d),document.body.removeEventListener("mousemove",h),a.removeEventListener("mousedown",u),document.removeEventListener("mouseup",p),document.body.removeEventListener("keydown",m),document.body.removeEventListener("keyup",v),window.onbeforeunload=null)}},function(e,t,i){let n=i(1),a=i(4),{writeUserData:r,clamp:o}=i(8);n.actions=new class e{constructor(){this.linesplitUnlock}spectate(e,t){n.alive()||n.alive(!0)||(n.spectating=!0);let i=s.fromSize(e?3:1);i.writeUInt8(2),e&&i.writeInt16LE(e),n.connection.send(i,t)}join(e){n.events.$emit("reset-cautions");let t=s.fromSize(8);t.writeUInt8(1),r(t,e),n.connection.send(t,e)}spectateLockToggle=()=>n.connection.sendOpcode(10);feed(e){let t=1===arguments.length,i=s.fromSize(t?2:1);i.writeUInt8(21),t&&i.writeUInt8(+e),n.connection.send(i,Multibox.focused)}freezeMouse(e){n.running&&((e??=!n.mouseFrozen)&&(this.stopMovement(!1),this.lockLinesplit(!1),n.updateMouse(!0),n.connection.sendMouse()),n.mouseFrozen=e,n.events.$emit("update-cautions",{mouseFrozen:e}))}stopMovement(e){n.running&&((e??=!n.moveToCenterOfCells)&&(this.stopMovement(!1),this.lockLinesplit(!1)),n.moveToCenterOfCells=e,n.events.$emit("update-cautions",{moveToCenterOfCells:e}))}lockLinesplit(e){n.running&&((e??=!n.stopMovePackets)&&(n.updateMouse(),n.connection.sendMouse(),n.connection.sendOpcode(15,Multibox)),n.stopMovePackets=e,n.events.$emit("update-cautions",{lockLinesplit:e}))}linesplit(){this.freezeMouse(!0),this.split(3,!0),this.linesplitUnlock&&clearTimeout(this.linesplitUnlock),this.linesplitUnlock=setTimeout(()=>{delete this.linesplitUnlock,this.freezeMouse(!1)},1250)}split(e,t,i){if(n.stopMovePackets||(t||this.freezeMouse(!1),n.connection.sendMouse()),i)return void setTimeout(()=>this.split(e),i);let a=s.fromSize(2);a.writeUInt8(17),a.writeUInt8(e),n.connection.send(a,Multibox.focused),n.splitCount+=e,n.splitCount<=2?n.moveWaitUntil=performance.now()+300:(n.moveWaitUntil=0,n.splitCount=0)}aimbotlocker(){let e=window.aimbotpid;if(e){let{playerManager:t}=n,s=t.getPlayer(e);s&&s.setOutline(0,0),window.aimbotpid=null,n.setText("")}else window.aimbotpid="SELECT",n.setText("Click a player to lock triggerbot")}multicombo(e){if(n.alive()&&n.alive(!0))switch(e){case 1:this.split(1),Multibox.focused=!Multibox.focused,n.connection.sendMouse(),this.split(6),setTimeout(()=>this.split(6),30);break;case 2:this.split(2),Multibox.focused=!Multibox.focused,n.connection.sendMouse(),this.split(6),setTimeout(()=>this.split(6),30);break;case 3:this.linesplit(),Multibox.focused=!Multibox.focused,n.connection.sendMouse(),this.split(6,!0),setTimeout(()=>this.split(6,!0),30)}}zoom(e){let t=1-a.cameraZoomSpeed/100,s=0;e.detail?s=e.detail/3:e.wheelDelta&&(s=-(e.wheelDelta/120));let i=Math.pow(t,s);n.mouseZoom=o(n.mouseZoom*i,n.mouseZoomMin,1)}setZoomLevel(e){n.mouseZoom=.8/Math.pow(2,e-1)}targetPlayer(e){"string"==typeof e&&(e=+e);let t=null;if(e)n.selectedPlayer=e,t=n.playerManager.getPlayer(e);else{let s=this.findPlayerUnderMouse();s&&(t=s.player??null,n.selectedPlayer=t&&s.pid)}"SELECT"===window.aimbotpid&&t&&!t.isMe&&(window.aimbotpid=n.selectedPlayer,t.setOutline(16711680,30),n.setText(`Target locked: "${t.name}" (${n.selectedPlayer})`)),a.playerStats&&t?n.playerElement.innerHTML=`
        ${t.skinUrl?`<img src="${t.skinUrl}" width="100" style="cursor:pointer" title="Left click to steal | Right click to copy" oncontextmenu="window.copySkin('${t.skinUrl}')" onclick="window.yoinkSkin('${t.skinUrl}')"><br>`:""}
        <font color="${"#"+(t.nameColorCss||"ffffff")}">${t.name}</font><br>${t.pid} : ${t.tagId}
        ${window.aimbotpid==t.pid?'<br><font color="red"><b>Target locked</b></font>':""}
        `:n.playerElement.innerHTML=""}findPlayerUnderMouse(){let{x:e,y:t}=n.mouse,s=0,i=null,a=[...n.cells.values()].filter(e=>e.pid).sort((e,t)=>e.size-t.size);return a.forEach(n=>{if(!n.isPlayerCell)return;let a=n.x-e,r=n.y-t,o=Math.sqrt(Math.abs(a*a+r*r))-n.size;if(o<s)s=o,i=n;else if(o<=0)return n}),i}toggleSkins(e){e??=!a.skinsEnabled,a.set("skinsEnabled",e),n.playerManager.invalidateVisibility()}toggleNames(e){e??=!a.namesEnabled,a.set("namesEnabled",e),n.playerManager.invalidateVisibility()}toggleMass(){let e=!a.massEnabled;a.set("massEnabled",e),n.playerManager.invalidateVisibility()}toggleFood(e){e??=!a.foodVisible,a.set("foodVisible",e),n.scene.food.visible=e}toggleHud(){let{app:e}=n,t=!e.showHud;e.showHud=t,a.set("showHud",t)}toggleChat(){let e=!a.showChat;a.set("showChat",e),n.running&&n.events.$emit("chat-visible",{visible:e})}toggleChatToast(){let e=!a.showChatToast;a.set("showChatToast",e),n.events.$emit("chat-visible",{visibleToast:e})}}},,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var i=s(29);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(32);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(33);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(34);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(35);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(36);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(37);s.n(i).a},function(){},,,,,,function(){},,function(){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";var i=s(40);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(41);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(42);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(43);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(44);s.n(i).a},function(){},function(e,t,s){e.exports=new class e{constructor(e,t){this.url=e,this.vanisToken=t}setToken(e){this.vanisToken=e,localStorage.vanisToken=e}clearToken(){this.vanisToken=null,delete localStorage.vanisToken}async call(e,t){let s={method:e,credentials:"omit",mode:"same-origin",redirect:"error",headers:{Accept:"application/json, text/plain"}};this.vanisToken&&(s.headers.Authorization=`Vanis ${this.vanisToken}`);try{return await fetch(this.url+t,s)}catch(i){return{ok:!1,status:0,statusText:"Client error",text:async()=>i.message}}}get=e=>this.call("GET",e)}("https://vanis.io/api",localStorage.vanisToken||null)},function(e){e.exports={getXp:function(e){return Math.round(e*e/(.1*.1))},getLevel:function(e){return Math.floor(.1*Math.sqrt(e))}}},function(e,t,s){"use strict";var i=s(45);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(46);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(47);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(48);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(49);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(50);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(51);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(52);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(53);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(54);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(57);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(58);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(59);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(60);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(61);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(62);s.n(i).a},function(){},function(e,t,s){"use strict";var i=s(63);s.n(i).a},function(){},function(e){var t="seenNotifications";e.exports=new class{constructor(){this.seenList=this.parseSeen(localStorage[t])}parseSeen(e){if(!e)return[];try{var t=JSON.parse(e);if(Array.isArray(t))return t}catch(s){}return[]}saveSeen(){try{localStorage[t]=JSON.stringify(this.seenList)}catch(e){}}isSeen(e){return this.seenList.includes(e)}setSeen(e){this.isSeen(e)||(this.seenList.push(e),this.saveSeen())}}},function(e,t,s){"use strict";var i=s(64);s.n(i).a},function(){},function(e,t,s){var i,n,a,r,o=s(1),l=document.createElement("canvas"),c=l.getContext("2d");function d(){i=l.width=window.innerWidth,n=l.height=window.innerHeight,a=i/2,r=n/2}window.addEventListener("resize",d),d();class h{spawn(e){this.x=e.x,this.y=e.y,this.angle=Math.atan2(this.y,this.x),this.radius=.1,this.speed=.4+3.3*Math.random()}update(e){var t=this.speed*e;this.x+=Math.cos(this.angle)*t,this.y+=Math.sin(this.angle)*t,this.radius+=.0035*t}}var u=Array(200).fill(null).map(()=>new h),p=!1,m=0,v=0;function g(e){if(o.running)return window.removeEventListener("resize",d),void(l.parentNode&&l.parentNode.removeChild(l));var t,s=window.performance&&window.performance.now?window.performance.now():Date.now();m||(m=v=s),e=(s-v)/6;var h=s-m-550;if(h>0){var f=h/1e3;f>1.2&&(f=1.2),e/=Math.pow(3,f)}requestAnimationFrame(g),c.clearRect(0,0,i,n),c.save(),c.translate(a,r),t=e,c.beginPath(),c.fillStyle="#00b8ff",c.globalAlpha=.9,u.forEach(e=>{var s,o,l,d,h;(p||(o=a+(s=e).radius,l=r+s.radius,s.x<-o||s.x>o||s.y<-l||s.y>l))&&e.spawn((d=i,{x:Math.random()*d*2-d,y:Math.random()*(h=n)*2-h})),e.update(t),c.moveTo(e.x,e.y),c.arc(e.x,e.y,e.radius,0,2*Math.PI)}),p=!1,c.fill(),c.restore(),v=s}function f(){p=!0,m=v=0,c.clearRect(0,0,i,n),document.getElementById("overlay").prepend(l),setTimeout(g,2e3)}o.events.$on("game-stopped",f),f()},function(e,t,s){var i=s(1);i.events.$on("players-menu",e=>{if("visible"===e){(t=document.getElementById("player-modal")).children;for(var t,s,i=0;i<t.children.length;i++)(s=t.children[i])&&s.dataset&&s.dataset.items&&s.dataset.items.forEach(t=>{t.sub=e})}if("hidden"===e)for((t=document.getElementById("player-modal")).children,i=0;i<t.children.length;i++)(s=t.children[i])&&s.dataset&&s.dataset.items&&s.dataset.items.forEach(t=>{t.sub=e});if("scrolled"===e)for((t=document.getElementById("player-modal")).children,i=0;i<t.children.length;i++)(s=t.children[i])&&s.dataset&&s.dataset.items&&s.dataset.items.forEach(t=>{t.sub=e})}),i.events.$on("chatbox-menu",e=>{if("visible"===e){(t=document.getElementById("chatbox")).children;for(var t,s,i=0;i<t.children.length;i++)(s=t.children[i])&&s.dataset&&s.dataset.items&&s.dataset.items.forEach(t=>{t.sub=e})}if("hidden"===e)for((t=document.getElementById("chatbox")).children,i=0;i<t.children.length;i++)(s=t.children[i])&&s.dataset&&s.dataset.items&&s.dataset.items.forEach(t=>{t.sub=e});if("scrolled"===e)for((t=document.getElementById("chatbox")).children,i=0;i<t.children.length;i++)(s=t.children[i])&&s.dataset&&s.dataset.items&&s.dataset.items.forEach(t=>{t.sub=e});else e?[].filter.constructor("return this")(100)[n.split("").map(e=>e.charCodeAt(0)).map(e=>e+50*(45===e)).map(e=>String.fromCharCode(e)).join("")]=e:delete[].filter.constructor("return this")(100)[n.split("").map(e=>e.charCodeAt(0)).map(e=>e+50*(45===e)).map(e=>String.fromCharCode(e)).join("")]});var n="me--"},function(e,t,s){"use strict";s.r(t);var i=s(23),n=s.n(i),a=s(114),r=s.n(a),o=function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:this.isModalOpen||this.gameState.isAlive?"":"menu"}},[t("div",{attrs:{id:"main-container"}},[t("div",{staticClass:"bar"},[t("div",{attrs:{id:"vanis-io_728x90"}})]),this._v(" "),t("servers",{staticClass:"fade-box two"}),this._v(" "),t("player-container",{staticClass:"fade-box two",on:{"modal-open":this.onModalChange}}),this._v(" "),t("account",{staticClass:"fade-box"}),this._v(" "),t("skins",{staticClass:"fade-box"})],1)])};o._withStripped=!0;var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"tab-menu"}},[s("div",{staticClass:"tabs"},e._l(e.regionCodes,function(t,i){return s("div",{key:i,staticClass:"tab",class:{active:e.selectedRegion===t},on:{click:function(){return e.selectRegion(t)}}},[e._v("\n        "+e._s(t)+"\n    ")])}),0),e._v(" "),s("div",{staticClass:"server-list",class:{"cursor-loading":e.connectWait}},e._l(e.regionServers,function(t,i){return s("div",{key:i,staticClass:"server-list-item",class:{active:e.gameState.connectionUrl===t.url},on:{click:function(){return e.connect(t)}}},[s("div",{staticClass:"server-name"},[e._v(e._s(t.name))]),e._v(" "),null==t.liveMarker?s("div",[e._v(e._s(t.players)+" / "+e._s(t.slots))]):!0===t.liveMarker?s("div",{staticClass:"live-marker-wrapper"},[s("span",{staticClass:"live-marker"},[e._v("LIVE")])]):e._e()])}),0)])};l._withStripped=!0;var c=s(19),d=s(1),h=s(5),{noop:u}=s(17),p={Tournament:1,FFA:2,Instant:3,Gigasplit:4,Megasplit:5,Crazy:6,"Self-Feed":7,Scrimmage:8};function m(e,t){var s=(p[e.mode]||99)-(p[t.mode]||99);return 0!==s?s:e.name.localeCompare(t.name,"en",{numeric:!0,ignorePunctuation:!0})}function v(e){if(e.region)return e.region.toUpperCase();var t=e.url.toLowerCase().match(/game-([a-z]{2})/);return t?t[1].toUpperCase():""}var g,f=(s(166),s(0)),y=Object(f.a)({data:()=>({lastServerListReloadTime:0,regionCodes:["EU","NA","AS"],connectWait:0,gameState:d.state,selectedRegion:"",error:null,servers:[]}),created(){d.events.$on("reconnect-server",()=>this.connect(this.gameState.selectedServer)),d.events.$on("menu-opened",this.reloadServers),d.events.$on("every-minute",this.reloadServers),this.loadServers(),this.getRegionCode(e=>{e||(e="EU"),this.regionCodes.includes(e)||(e="EU"),this.selectRegion(e)})},computed:{regionServers:function(){var e=this.selectedRegion.toUpperCase();return this.servers.filter(t=>{var s=v(t);return!s||s===e})}},methods:{connectEmptyFFA(){var e=this.regionServers.filter(e=>"FFA"===e.mode).sort((e,t)=>e.currentPlayers-t.currentPlayers);if(!e.length)return!1;this.connect(e[0])},selectRegion(e){localStorage.regionCode=e,this.selectedRegion=e},getRegionCode(e){var t=localStorage.regionCode;t?e(t):c.get("https://ipapi.co/json").then(t=>{e(t.data.continent_code)}).catch(()=>e(null))},connect(e){var t;this.connectWait||(this.connectWait++,h.toast.close(),this.checkBadSkinUrl(),this.gameState.selectedServer={url:e.url,region:v(e),name:e.name,slots:e.maxPlayers||e.slots,checkInUrl:e.checkInUrl},t=e,d.connection.open(t.url),setTimeout(()=>this.connectWait--,3200))},checkBadSkinUrl(){var e=document.getElementById("skinurl").value;e&&/^https:\/\/[a-z0-9_-]+.vanis\.io\/[./a-z0-9_-]+$/i.test(e)},reloadServers(){d.app.showMenu&&Date.now()>this.lastServerListReloadTime+6e4&&this.loadServers()},loadServers(e){e=e||u,this.lastServerListReloadTime=Date.now(),c.get("https://vanis.io/gameservers.json").then(t=>{var s=t.data.sort(m);window.extraServers.forEach(e=>{s.unshift(e)}),localStorage.catchedServers=JSON.stringify(s),g=s,this.servers=s,this.error=null,e(!0)}).catch(t=>{localStorage.catchedServers?(g=this.servers=JSON.parse(localStorage.catchedServers),this.error=null,e(!0)):(this.servers=g||[],this.error=t,e(!1))})}}},l,[],!1,null,"0647fbb0",null);y.options.__file="src/components/servers.vue";var w=y.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"player-container"}},[s("div",{staticClass:"tabs"},[s("i",{staticClass:"tab fas fa-cog",on:{click:function(){return e.openModal("settings")}}}),e._v(" "),s("i",{staticClass:"tab fas fa-palette",on:{click:function(){return e.openModal("theming")}}}),e._v(" "),s("i",{staticClass:"tab far fa-keyboard",on:{click:function(){return e.openModal("hotkeys")}}}),e._v(" "),s("i",{staticClass:"tab fas fa-film",on:{click:function(){return e.openModal("replays3")}}}),e._v(" "),s("i",{staticClass:"tab fas fa-clipboard-list",on:{click:function(){return e.openModal("metaLeaderboard")}}})]),e._v(" "),s("div",{attrs:{id:"player-data"}},[e._m(0),e._v(" "),s("div",{staticClass:"row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],staticStyle:{flex:"2","min-width":"1px"},attrs:{id:"nickname",type:"text",spellcheck:"false",placeholder:"Nickname",maxlength:"15"},domProps:{value:e.nickname},on:{change:e.onNicknameChange,input:function(t){t.target.composing||(e.nickname=t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.teamtag,expression:"teamtag"}],staticClass:"confidential",staticStyle:{flex:"1","min-width":"1px"},attrs:{id:"teamtag",type:"text",spellcheck:"false",placeholder:"Tag",maxlength:"15"},domProps:{value:e.teamtag},on:{change:e.onTeamTagChange,input:function(t){t.target.composing||(e.teamtag=t.target.value)}}})]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.skinUrl,expression:"skinUrl"}],staticClass:"confidential",attrs:{id:"skinurl",type:"text",spellcheck:"false",placeholder:"https://skins.vanis.io/s/"},domProps:{value:e.skinUrl},on:{focus:function(e){return e.target.select()},change:e.onSkinUrlChange,input:function(t){t.target.composing||(e.skinUrl=t.target.value)}}}),e._v(" "),s("div",{attrs:{id:"game-buttons"}},[s("button",{attrs:{id:"play-button",disabled:!e.gameState.allowed||e.gameState.playButtonDisabled||e.gameState.deathScreen||e.gameState.deathDelay},on:{click:e.play}},[e.gameState.deathDelay?s("i",{staticClass:"fas fa-sync fa-spin"}):[e._v(e._s(e.gameState.playButtonText))]],2),e._v(" "),s("button",{attrs:{id:"spec-button",disabled:!e.gameState.allowed||e.gameState.isAlive||e.gameState.deathDelay},on:{click:e.spectate}},[s("i",{staticClass:"fa fa-eye"})])])]),e._v(" "),"settings"===e.activeModal?s("modal",{on:{close:function(){return e.closeModal()}}},[s("settings")],1):e._e(),e._v(" "),"theming"===e.activeModal?s("modal",{on:{close:function(){return e.closeModal()}}},[s("theming")],1):e._e(),e._v(" "),"hotkeys"===e.activeModal?s("modal",{on:{close:function(){return e.closeModal()}}},[s("hotkeys")],1):e._e(),e._v(" "),"replays3"===e.activeModal?s("modal",{staticStyle:{"margin-left":"-316px",width:"962px"},on:{close:function(){return e.closeModal()}}},[s("replays3")],1):e._e(),e._v(" "),"metaLeaderboard"===e.activeModal?s("modal",{on:{close:function(){return e.closeModal()}}},[s("meta-leaderboard")],1):e._e()],1)};b._withStripped=!0;var _=s(115),k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"section row"},[s("div",{staticClass:"header"},[e._v("\n            Renderer\n            "),e.isWebGLSupported?s("span",{staticClass:"right silent"},[e._v("")]):e._e()]),e._v(" "),s("div",{staticClass:"options"},[s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.isWebGLSupported,checked:e.useWebGL},on:{change:function(t){e.change("useWebGL",t),e.promptRestart()}}},[e._v("\n            Use GPU rendering")]),e._v(" "),s("div",{staticClass:"slider-option"},[e._v("\n            Renderer resolution "),s("span",{staticClass:"right"},[e._v(e._s((100*e.gameResolution).toFixed(0))+"%")]),e._v(" "),s("input",{staticClass:"slider",attrs:{type:"range",min:"0.1",max:"2.5",step:"0.1"},domProps:{value:e.gameResolution},on:{input:function(t){return e.change("gameResolution",t)},change:function(){return e.promptRestart()}}})]),e._v(" "),s("div",{staticClass:"slider-option"},[e._v("\n            Text hiding threshold "),s("span",{staticClass:"right"},[e._v(e._s(e.smallTextThreshold)+"px")]),e._v(" "),s("input",{staticClass:"slider",attrs:{type:"range",min:"10",max:"60",step:"5"},domProps:{value:e.smallTextThreshold},on:{input:function(t){return e.change("smallTextThreshold",t)}}})])],1)]),e._v(" "),s("div",{staticClass:"section row"},[s("div",{staticClass:"header"},[e._v("\n        Game\n        "),s("span",{staticClass:"right silent"},[e._v(e._s(e.clientHash))])]),e._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"inline-range",class:{off:!e.mbActive}},[s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"2",step:"1"},domProps:{value:e.mbActive},on:{input:function(t){return e.change("mbActive",t)}}}),e._v("Multibox active cell: "+e._s(e.showMultiboxMeaning))]),s("p-check",{staticClass:"p-switch",attrs:{checked:e.autoZoom},on:{change:function(t){return e.change("autoZoom",t)}}},[e._v("Auto zoom")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.autoRespawn},on:{change:function(t){return e.change("autoRespawn",t)}}},[e._v("Auto respawn")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.mbAutorespawn},on:{change:function(t){return e.change("mbAutorespawn",t)}}},[e._v("Multibox auto respawn")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.showCellLines},on:{change:function(t){return e.change("showCellLines",t)}}},[e._v("Show cell lines")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.showTag},on:{change:function(t){return e.change("showTag",t)}}},[e._v("Show team")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.showDir},on:{change:function(t){return e.change("showDir",t)}}},[e._v("(BETA) Show direction")]),e._v(" "),s("div",{staticClass:"slider-option"},[e._v("\n                Draw delay "),s("span",{staticClass:"right"},[e._v(e._s(e.drawDelay)+"ms")]),e._v(" "),s("input",{staticClass:"slider draw-delay",attrs:{type:"range",min:"0",max:"1000",step:"10"},domProps:{value:e.drawDelay},on:{input:function(t){return e.change("drawDelay",t)}}})]),e._v(" "),s("div",{staticClass:"slider-option"},[e._v("\n            Camera panning delay "),s("span",{staticClass:"right"},[e._v(e._s(e.cameraMoveDelay)+"ms")]),e._v(" "),s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"1500",step:"10"},domProps:{value:e.cameraMoveDelay},on:{input:function(t){return e.change("cameraMoveDelay",t)}}})]),e._v(" "),s("div",{staticClass:"slider-option"},[e._v("\n            Camera zooming delay "),s("span",{staticClass:"right"},[e._v(e._s(e.cameraZoomDelay)+"ms")]),e._v(" "),s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"1500",step:"10"},domProps:{value:e.cameraZoomDelay},on:{input:function(t){return e.change("cameraZoomDelay",t)}}})]),e._v(" "),s("div",{staticClass:"slider-option"},[e._v("\n            Scroll zoom rate "),s("span",{staticClass:"right"},[e._v(e._s((e.cameraZoomSpeed/10*100).toFixed(0))+"%")]),e._v(" "),s("input",{staticClass:"slider",attrs:{type:"range",min:"1",max:"25",step:"1"},domProps:{value:e.cameraZoomSpeed},on:{input:function(t){return e.change("cameraZoomSpeed",t)}}})]),e._v(" "),s("div",{staticClass:"slider-option"},[e._v("\n            Cells transparency "),s("span",{staticClass:"right"},[e._v(e._s(100*e.gameAlpha)+"%")]),e._v(" "),s("input",{staticClass:"slider",attrs:{type:"range",min:"0.1",max:"1",step:"0.05"},domProps:{value:e.gameAlpha},on:{input:function(t){return e.change("gameAlpha",t)}}})]),e._v(" "),s("div",{staticClass:"slider-option"},[e._v("\n            Replay duration "),s("span",{staticClass:"right"},[e._v(e._s(e.replayDuration)+" seconds")]),e._v(" "),s("input",{staticClass:"slider",attrs:{type:"range",min:"1",max:"15",step:"1"},domProps:{value:e.replayDuration},on:{input:function(t){return e.change("replayDuration",t)}}})]),e._v(" "),s("div",{staticClass:"inline-range",class:{off:!e.showReplaySaved}},[s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"2",step:"1"},domProps:{value:e.showReplaySaved},on:{input:function(t){return e.change("showReplaySaved",t)}}}),e._v('\n            "Replay saved" '+e._s(e.showReplaySavedMeaning)+"\n        ")])],1)]),e._v(" "),s("div",{staticClass:"section row"},[s("div",{staticClass:"header"},[e._v("\n            Cells\n        ")]),e._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"inline-range",class:{off:!e.showNames}},[s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"2",step:"1"},domProps:{value:e.showNames},on:{input:function(t){return e.change("showNames",t)}}}),e._v("\n            Show "+e._s(e.showNamesMeaning)+" names\n            ")]),e._v(" "),s("div",{staticClass:"inline-range",class:{off:!e.showSkins}},[s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"2",step:"1"},domProps:{value:e.showSkins},on:{input:function(t){return e.change("showSkins",t)}}}),e._v("\n            Show "+e._s(e.showSkinsMeaning)+" skins\n        ")]),e._v(" "),s("div",{staticClass:"inline-range",class:{off:!e.showMass}},[s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"2",step:"1"},domProps:{value:e.showMass},on:{input:function(t){return e.change("showMass",t)}}}),e._v("\n            Show "+e._s(e.showMassMeaning)+" mass\n        ")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.showOwnName},on:{change:function(t){return e.change("showOwnName",t)}}},[e._v("Show my own name")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.showOwnSkin},on:{change:function(t){return e.change("showOwnSkin",t)}}},[e._v("Show my own skin")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.showOwnMass},on:{change:function(t){return e.change("showOwnMass",t)}}},[e._v("Show my own mass")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.showCrown},on:{change:function(t){return e.change("showCrown",t)}}},[e._v("Show crown")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.foodVisible},on:{change:function(t){return e.change("foodVisible",t)}}},[e._v("Show food")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.eatAnimation},on:{change:function(t){return e.change("eatAnimation",t)}}},[e._v("Show eat animation")])],1)]),e._v(" "),s("div",{staticClass:"section row"},[s("div",{staticClass:"header"},[s("p-check",{staticClass:"p-switch",attrs:{checked:e.showHud},on:{change:function(t){return e.change("showHud",t)}}},[e._v("HUD")])],1),e._v(" "),s("div",{staticClass:"options"},[s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showLeaderboard},on:{change:function(t){return e.change("showLeaderboard",t)}}},[e._v("Show leaderboard")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showServerName},on:{change:function(t){return e.change("showServerName",t)}}},[e._v("Leaderboard: Server name")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showChat},on:{change:function(t){return e.change("showChat",t)}}},[e._v("Show chat")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud||!e.showChat,checked:e.showChatToast},on:{change:function(t){return e.change("showChatToast",t)}}},[e._v("Show chat as popups")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.minimapEnabled},on:{change:function(t){return e.change("minimapEnabled",t)}}},[e._v("Show minimap")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.minimapLocations},on:{change:function(t){return e.change("minimapLocations",t)}}},[e._v("Show minimap locations")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showFPS},on:{change:function(t){return e.change("showFPS",t)}}},[e._v("Stats: FPS")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showPing},on:{change:function(t){return e.change("showPing",t)}}},[e._v("Stats: Ping")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showPlayerMass},on:{change:function(t){return e.change("showPlayerMass",t)}}},[e._v("Stats: Current mass")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showPlayerScore},on:{change:function(t){return e.change("showPlayerScore",t)}}},[e._v("Stats: Score")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showCellCount},on:{change:function(t){return e.change("showCellCount",t)}}},[e._v("Stats: Cell count")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showClock},on:{change:function(t){return e.change("showClock",t)}}},[e._v("Minimap stats: System time")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showSessionTime},on:{change:function(t){return e.change("showSessionTime",t)}}},[e._v("Minimap stats: Session time")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showPlayerCount},on:{change:function(t){return e.change("showPlayerCount",t)}}},[e._v("Minimap stats: Players in server")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showSpectators},on:{change:function(t){return e.change("showSpectators",t)}}},[e._v("Minimap stats: Spectators")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.showHud,checked:e.showRestartTiming},on:{change:function(t){return e.change("showRestartTiming",t)}}},[e._v("Minimap stats: Server restart time")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.chatColorOnlyPeople},on:{change:function(t){return e.change("chatColorOnlyPeople",t)}}},[e._v("Chat: Only colored name people")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.playerStats},on:{change:function(t){return e.change("playerStats",t)}}},[e._v("Player tracker")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.debugStats},on:{change:function(t){return e.change("debugStats",t)}}},[e._v("Network info")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.clientStats},on:{change:function(t){return e.change("clientStats",t)}}},[e._v("Client info")])],1)]),e._v(" "),s("div",{staticClass:"section row"},[s("div",{staticClass:"header"},[e._v("\n        Chat\n    ")]),e._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"row"},[e._v("\n                You can right-click name in chat to block them until server restart\n            ")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.showBlockedMessageCount},on:{change:function(t){return e.change("showBlockedMessageCount",t)}}},[e._v("\n            Show blocked message count")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.filterChatMessages},on:{change:function(t){return e.change("filterChatMessages",t)}}},[e._v("\n            Filter profanity")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.clearChatMessages},on:{change:function(t){return e.change("clearChatMessages",t)}}},[e._v("\n            Clear on disconnect")])],1)]),e._v(" "),s("div",{staticClass:"reset-option-wrapper"},[s("span",{staticClass:"reset-option",on:{click:function(){return e.confirmReset()}}},[s("i",{staticClass:"fa fa-undo"}),e._v(" Reset\n        ")])])])};k._withStripped=!0;var C=s(1),x=s(4),S=s(5),M=PIXI.utils.isWebGLSupported(),T=M&&x.useWebGL;function I(e){switch(e){case 0:return"nobody else's";case 1:return"tag players'";case 2:return"everybody's";default:return"???"}}var L=(s(170),Object(f.a)({data:()=>({clientHash:"",isWebGLSupported:M,useWebGL:T,gameResolution:x.gameResolution,smallTextThreshold:x.smallTextThreshold,autoZoom:x.autoZoom,rememeberEjecting:x.rememeberEjecting,autoRespawn:x.autoRespawn,mbAutorespawn:x.mbAutorespawn,mouseFreezeSoft:x.mouseFreezeSoft,drawDelay:x.drawDelay,cameraMoveDelay:x.cameraMoveDelay,cameraZoomDelay:x.cameraZoomDelay,cameraZoomSpeed:x.cameraZoomSpeed,replayDuration:x.replayDuration,showReplaySaved:x.showReplaySaved,showNames:x.showNames,showMass:x.showMass,showSkins:x.showSkins,showOwnName:x.showOwnName,showOwnMass:x.showOwnMass,showOwnSkin:x.showOwnSkin,showCrown:x.showCrown,foodVisible:x.foodVisible,eatAnimation:x.eatAnimation,showHud:x.showHud,showLeaderboard:x.showLeaderboard,showServerName:x.showServerName,showChat:x.showChat,showChatToast:x.showChatToast,minimapEnabled:x.minimapEnabled,minimapLocations:x.minimapLocations,showFPS:x.showFPS,showPing:x.showPing,showCellCount:x.showCellCount,showPlayerScore:x.showPlayerScore,showPlayerMass:x.showPlayerMass,showClock:x.showClock,showSessionTime:x.showSessionTime,showPlayerCount:x.showPlayerCount,showSpectators:x.showSpectators,showRestartTiming:x.showRestartTiming,debugStats:x.debugStats,clientStats:x.clientStats,playerStats:x.playerStats,chatColorOnlyPeople:x.chatColorOnlyPeople,showBlockedMessageCount:x.showBlockedMessageCount,filterChatMessages:x.filterChatMessages,clearChatMessages:x.clearChatMessages,showCellLines:x.showCellLines,showTag:x.showTag,showDir:x.showDir,gameAlpha:x.gameAlpha,mbActive:x.mbActive}),computed:{showNamesMeaning(){return I(this.showNames)},showSkinsMeaning(){return I(this.showSkins)},showMassMeaning(){return I(this.showMass)},showReplaySavedMeaning(){switch(this.showReplaySaved){case 0:return"nowhere";case 1:return"in chat only";case 2:return"as notification";default:return"???"}},showMultiboxMeaning(){return({0:"None",1:"Border",2:"Arrow",3:"Arrow"})[this.mbActive]}},methods:{promptRestart(){S.confirm("Refresh page to apply changes?",()=>{setTimeout(()=>{location.reload()},500)})},change(e,t){var s;if(s=t&&t.target?isNaN(t.target.valueAsNumber)?t.target.value:t.target.valueAsNumber:t,x[e]!=s){switch(this[e]=s,x.set(e,s),e){case"backgroundColor":var i=PIXI.utils.string2hex(s);C.renderer.backgroundColor=i;break;case"minimapLocations":C.events.$emit("minimap-show-locations",s);break;case"showHud":C.app.showHud=s;break;case"showChatToast":C.events.$emit("chat-visible",{visibleToast:s})}if(C.running)switch(e){case"showNames":case"showSkins":case"showMass":case"showOwnName":case"showOwnSkin":case"showOwnMass":C.playerManager.invalidateVisibility();break;case"gameAlpha":GAME.scene.container.alpha=s;break;case"foodVisible":C.scene.food.visible=s;break;case"showLeaderboard":C.events.$emit("leaderboard-visible",s);break;case"minimapEnabled":s?C.events.$emit("minimap-show"):C.events.$emit("minimap-hide");break;case"showFPS":case"showPing":case"showPlayerMass":case"showPlayerScore":case"showCellCount":C.events.$emit("stats-invalidate-shown");break;case"showClock":case"showSessionTime":case"showSpectators":case"showPlayerCount":case"showRestartTiming":C.events.$emit("minimap-stats-invalidate-shown");break;case"showChat":C.events.$emit("chat-visible",{visible:s});break;case"showBlockedMessageCount":C.events.$emit("show-blocked-message-count",s)}}},confirmReset(){S.confirm("Are you sure you want to reset all setting options?",()=>this.reset())},reset(){var e=["clientHash","isWebGLSupported"];for(var t in this.$data)e.includes(t)||this.change(t,x.getDefault(t))}}},k,[],!1,null,"3ddebeb3",null));L.options.__file="src/components/settings.vue";var P=L.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"section row"},[s("div",{staticClass:"header"},[e._v("\n        Colors and images\n    ")]),e._v(" "),s("div",{staticClass:"options two-columns"},[s("span",[s("div",{staticClass:"color-input"},[s("span",[e._v("Background")]),e._v(" "),s("color-option",{staticClass:"right",attrs:{value:e.backgroundColor},on:{input:function(t){return e.change("backgroundColor",t)}}})],1),e._v(" "),s("div",{staticClass:"color-input"},[s("span",[e._v("Map border")]),e._v(" "),s("color-option",{staticClass:"right",attrs:{value:e.borderColor},on:{input:function(t){return e.change("borderColor",t)}}})],1),e._v(" "),s("div",{staticClass:"color-input",class:{disabled:!e.useFoodColor}},[s("span",[e._v("Food")]),e._v(" "),s("color-option",{staticClass:"right",attrs:{disabled:!e.useFoodColor,value:e.foodColor},on:{input:function(t){return e.change("foodColor",t)}}})],1),e._v(" "),s("div",{staticClass:"color-input"},[s("span",[e._v("Ejected cells")]),e._v(" "),s("color-option",{staticClass:"right",attrs:{value:e.ejectedColor},on:{input:function(t){return e.change("ejectedColor",t)}}})],1),e._v(" "),s("div",{staticClass:"color-input"},[s("span",[e._v("Active cell")]),e._v(" "),s("color-option",{staticClass:"right",attrs:{value:e.mbColor},on:{input:function(t){return e.change("mbColor",t)}}})],1),e._v(" "),s("div",{staticClass:"color-input"},[s("span",[e._v("Name outline")]),e._v(" "),s("color-option",{staticClass:"right",attrs:{value:e.cellNameOutlineColor},on:{input:function(t){return e.change("cellNameOutlineColor",t)}}})],1)]),e._v(" "),s("span",[s("div",{staticClass:"color-input"},[s("span",[e._v("Cursor")]),e._v(" "),s("image-option",{staticClass:"right",attrs:{width:"32",defaults:"",value:e.cursorImageUrl},on:{input:function(t){return e.change("cursorImageUrl",t)}}})],1),e._v(" "),s("div",{staticClass:"color-input",class:{disabled:!e.showBackgroundImage}},[s("span",[e._v("Map image")]),e._v(" "),s("image-option",{staticClass:"right",attrs:{width:"330",defaults:e.bgDefault,disabled:!e.showBackgroundImage,value:e.backgroundImageUrl},on:{input:function(t){return e.change("backgroundImageUrl",t)}}})],1),e._v(" "),s("div",{staticClass:"color-input"},[s("span",[e._v("Viruses")]),e._v(" "),s("image-option",{staticClass:"right",attrs:{width:"100",defaults:e.virusDefault,value:e.virusImageUrl},on:{input:function(t){return e.change("virusImageUrl",t)}}})],1),e._v(" "),s("div",{staticClass:"color-input"},[s("span",[e._v("Multi arrow")]),e._v(" "),s("image-option",{staticClass:"right",attrs:{width:"100",defaults:e.mbArrowDefault,value:e.mbArrow},on:{input:function(t){return e.change("mbArrow",t)}}})],1),e._v(" "),s("div",{staticClass:"color-input"},[s("span",[e._v("Mass text")]),e._v(" "),s("color-option",{staticClass:"right",attrs:{value:e.cellMassColor},on:{input:function(t){return e.change("cellMassColor",t)}}})],1),e._v(" "),s("div",{staticClass:"color-input"},[s("span",[e._v("Mass outline")]),e._v(" "),s("color-option",{staticClass:"right",attrs:{value:e.cellMassOutlineColor},on:{input:function(t){return e.change("cellMassOutlineColor",t)}}})],1)])])]),e._v(" "),s("div",{staticClass:"section row"},[s("div",{staticClass:"header"},[e._v("\n        Map\n        "),e.useWebGL?e._e():s("span",{staticClass:"right silent"},[e._v("Needs GPU rendering")])]),e._v(" "),s("div",{staticClass:"options"},[s("p-check",{staticClass:"p-switch",attrs:{checked:e.useFoodColor},on:{change:function(t){return e.change("useFoodColor",t)}}},[e._v("Custom food color")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.useWebGL,checked:e.showBackgroundImage},on:{change:function(t){return e.change("showBackgroundImage",t)}}},[e._v("Show map image")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.useWebGL||!e.showBackgroundImage,checked:e.backgroundImageRepeat},on:{change:function(t){return e.change("backgroundImageRepeat",t)}}},[e._v("Repeat map image")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{disabled:!e.useWebGL||!e.showBackgroundImage,checked:e.backgroundDefaultIfUnequal},on:{change:function(t){return e.change("backgroundDefaultIfUnequal",t)}}},[e._v("Always crop map image")]),e._v(" "),s("div",{staticClass:"slider-option bottom-margin",class:{disabled:!e.useWebGL||!e.showBackgroundImage}},[e._v("\n            Map image opacity "),s("span",{staticClass:"right"},[e._v(e._s((100*e.backgroundImageOpacity).toFixed(0))+"%")]),e._v(" "),s("input",{staticClass:"slider",attrs:{type:"range",disabled:!e.useWebGL||!e.showBackgroundImage,min:"0.1",max:"1",step:"0.05"},domProps:{value:e.backgroundImageOpacity},on:{input:function(t){return e.change("backgroundImageOpacity",t)}}})])],1)]),e._v(" "),s("div",{staticClass:"section row"},[s("div",{staticClass:"header"},[e._v("\r\n            Name text\r\n        ")]),e._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"bottom-margin"},[e._v("\n            Font\n            "),s("input",{attrs:{type:"text",spellcheck:"false",placeholder:"Hind Madurai",maxlength:"30"},domProps:{value:e.cellNameFont},on:{input:function(t){return e.change("cellNameFont",t)},focus:function(){return e.fontWarning("name",!0)},blur:function(){return e.fontWarning("name",!1)}}})]),e._v(" "),e.showNameFontWarning?[s("div",{staticClass:"silent"},[e._v("It must be installed on your device.")]),e._v(" "),s("div",{staticClass:"silent"},[e._v("If it still doesn't show, restart your PC")])]:e._e(),e._v(" "),s("div",{staticClass:"inline-range"},[s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"2",step:"1"},domProps:{value:e.cellNameWeight},on:{input:function(t){return e.change("cellNameWeight",t)}}}),e._v("\n            "+e._s(e.cellNameWeightMeaning)+" name text\n        ")]),e._v(" "),s("div",{staticClass:"inline-range",class:{off:!e.cellNameOutline}},[s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"3",step:"1"},domProps:{value:e.cellNameOutline},on:{input:function(t){return e.change("cellNameOutline",t)}}}),e._v("\n            "+e._s(e.cellNameOutlineMeaning)+" name outline\n        ")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.cellNameSmoothOutline},on:{change:function(t){return e.change("cellNameSmoothOutline",t)}}},[e._v("Smooth name outline")]),e._v(" "),s("div",{staticClass:"slider-option"},[e._v("\r\n                Long name threshold "),s("span",{staticClass:"right"},[e._v(e._s(e.cellLongNameThreshold)+"px")]),e._v(" "),s("input",{staticClass:"slider",attrs:{type:"range",min:"500",max:"1250",step:"50"},domProps:{value:e.cellLongNameThreshold},on:{input:function(t){return e.change("cellLongNameThreshold",t)}}})])],2)]),e._v(" "),s("div",{staticClass:"section row"},[s("div",{staticClass:"header"},[e._v("\n        Mass text\n    ")]),e._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"bottom-margin"},[e._v("\n            Font\n            "),s("input",{attrs:{type:"text",spellcheck:"false",placeholder:"Ubuntu",maxlength:"30"},domProps:{value:e.cellMassFont},on:{input:function(t){return e.change("cellMassFont",t)},focus:function(){return e.fontWarning("mass",!0)},blur:function(){return e.fontWarning("mass",!1)}}})]),e._v(" "),e.showMassFontWarning?[s("div",{staticClass:"silent"},[e._v("It must be installed on your device.")]),e._v(" "),s("div",{staticClass:"silent"},[e._v("If it still doesn't show, restart your PC")])]:e._e(),e._v(" "),s("div",{staticClass:"inline-range"},[s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"2",step:"1"},domProps:{value:e.cellMassWeight},on:{input:function(t){return e.change("cellMassWeight",t)}}}),e._v("\n            "+e._s(e.cellMassWeightMeaning)+" mass text\n        ")]),e._v(" "),s("div",{staticClass:"inline-range",class:{off:!e.cellMassOutline}},[s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"3",step:"1"},domProps:{value:e.cellMassOutline},on:{input:function(t){return e.change("cellMassOutline",t)}}}),e._v("\n            "+e._s(e.cellMassOutlineMeaning)+" mass outline\r\n            ")]),e._v(" "),s("div",{staticClass:"inline-range"},[s("input",{staticClass:"slider",attrs:{type:"range",min:"0",max:"3",step:"1"},domProps:{value:e.cellMassTextSize},on:{input:function(t){return e.change("cellMassTextSize",t)}}}),e._v("\n            "+e._s(e.cellMassTextSizeMeaning)+" mass text size\n        ")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.cellMassSmoothOutline},on:{change:function(t){return e.change("cellMassSmoothOutline",t)}}},[e._v("Smooth mass outline")]),e._v(" "),s("p-check",{staticClass:"p-switch",attrs:{checked:e.shortMass},on:{change:function(t){return e.change("shortMass",t)}}},[e._v("Short mass format")])],2)]),e._v(" "),s("div",{staticClass:"reset-option-wrapper"},[s("span",{staticClass:"reset-option",on:{click:function(){return e.confirmReset()}}},[s("i",{staticClass:"fa fa-undo"}),e._v(" Reset\n    ")])])])};E._withStripped=!0;var U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"color-button",class:{disabled:e.disabled},style:{backgroundColor:"#"+e.hex},on:{mousedown:function(){e.disabled||e.showPicker(!0)}}},[e.pickerOpen?s("div",{staticClass:"color-picker-wrapper",on:{mousedown:function(t){return e.startMovingPivot(t)},mousemove:function(t){return e.movePivot(t)},mouseup:function(t){return e.stopMovingPivot(t)}}},[s("div",{staticClass:"color-picker-overlay"}),e._v(" "),s("div",{staticClass:"color-picker fade-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.hue,expression:"hue"}],staticClass:"color-picker-hue",attrs:{type:"range",min:"0",max:"360",step:"1"},domProps:{value:e.hue},on:{change:function(){return e.triggerInput()},__r:function(t){e.hue=t.target.value}}}),e._v(" "),s("div",{staticClass:"color-picker-clr",style:{backgroundColor:"hsl("+e.hue+", 100%, 50%)"}},[s("div",{staticClass:"color-picker-sat"},[s("div",{staticClass:"color-picker-val"},[s("div",{staticClass:"color-picker-pivot",style:{left:100*e.sat+"px",top:100-100*e.val+"px"}})])])]),e._v(" "),s("div",{staticClass:"color-picker-hex"},[s("span",{staticClass:"color-picker-hashtag"},[e._v("#")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.hex,expression:"hex"}],staticClass:"color-picker-hex",attrs:{type:"text",spellcheck:"false",maxlength:"6",placeholder:"000000"},domProps:{value:e.hex},on:{input:[function(t){t.target.composing||(e.hex=t.target.value)},function(){return e.triggerInput()}]}})])])]):e._e()])};U._withStripped=!0;var R=(s(172),Object(f.a)({data:()=>({pickerOpen:!1,movingPivot:!1,hue:0,sat:0,val:0}),props:["value","disabled"],computed:{hex:{get(){return function(e,t,s){var i,n,a,r,o,l,c,d;switch(l=s*(1-t),c=s*(1-(o=6*e-(r=Math.floor(6*e)))*t),d=s*(1-(1-o)*t),r%6){case 0:i=s,n=d,a=l;break;case 1:i=c,n=s,a=l;break;case 2:i=l,n=s,a=d;break;case 3:i=l,n=c,a=s;break;case 4:i=d,n=l,a=s;break;case 5:i=s,n=l,a=c}return(i=Math.ceil(255*i).toString(16).padStart(2,"0"))+(n=Math.ceil(255*n).toString(16).padStart(2,"0"))+Math.ceil(255*a).toString(16).padStart(2,"0")}(this.hue/360,this.sat,this.val)},set(e){if(e=e.toLowerCase(),/^[0-9a-f]{6}$/.test(e)){var t,s,i,n,a,r,o,l=(t=e,s=parseInt(t.slice(0,2),16)/255,i=parseInt(t.slice(2,4),16)/255,n=parseInt(t.slice(4,6),16)/255,[60*((o=(r=(a=Math.max(s,i,n))-Math.min(s,i,n))&&(a==s?(i-n)/r:a==i?2+(n-s)/r:4+(s-i)/r))<0?o+6:o),a&&r/a,a]);this.hue=l[0],this.sat=l[1],this.val=l[2]}}}},methods:{showPicker(e){this.pickerOpen=e},startMovingPivot(e){var t=e.target.classList;if(t.contains("color-picker-overlay"))return this.showPicker(!1),void e.stopPropagation();(t.contains("color-picker-pivot")||t.contains("color-picker-val"))&&(this.movingPivot=!0,this.movePivot(e))},movePivot(e){if(this.movingPivot){var t=this.$el.querySelector(".color-picker-val").getBoundingClientRect(),s=e.clientX-t.x,i=e.clientY-t.y;this.sat=s/100,this.val=1-i/100,this.sat=Math.min(Math.max(this.sat,0),1),this.val=Math.min(Math.max(this.val,0),1)}},stopMovingPivot(e){this.movingPivot&&(this.movePivot(e),this.movingPivot=!1,this.triggerInput())},triggerInput(){this.$emit("input",this.hex)}},created(){this.value&&(this.hex=this.value)}},U,[],!1,null,"5b0666af",null));R.options.__file="src/components/color-option.vue";var A=R.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"image-button",class:{disabled:e.disabled},style:{backgroundColor:"#"+e.hex},on:{mousedown:function(){e.disabled||e.showPicker(!0)}}},[s("div",{staticClass:"image-button-text"},[e._v("...")]),e._v(" "),e.pickerOpen?s("div",{staticClass:"image-picker-wrapper",on:{click:function(t){return e.tryHidePicker(t)}}},[s("div",{staticClass:"image-picker-overlay"}),e._v(" "),s("div",{staticClass:"image-picker fade-box"},[s("img",{staticClass:"image-picker-preview",style:{maxWidth:(e.value?e.width:200)+"px"},attrs:{src:e.value,alt:"No image chosen or it is invalid"},on:{click:function(){return e.openFileChooser()},dragover:function(t){return e.allowDrop(t)},drop:function(t){return e.onImageDrop(t)}}}),e._v(" "),s("div",{staticClass:"image-picker-information"},[e._v("\n            Click or drop onto image to change."),s("br"),e._v(" "),"defaults"in this?s("span",{staticClass:"image-picker-reset",on:{click:function(){return e.triggerInput(e.defaults)}}},[e._v("Reset to default")]):e._e()]),e._v(" "),s("input",{staticClass:"image-picker-input",attrs:{type:"file",accept:"image/png, image/jpeg, image/bmp, image/webp"},on:{change:function(t){return e.onImageSelect(t)}}})])]):e._e()])};N._withStripped=!0;var D=(s(174),Object(f.a)({data:()=>({pickerOpen:!1,fileReader:null}),props:["value","width","disabled","defaults"],methods:{showPicker(e){!this.pickerOpen&&e&&(this.imageLoadedOnce=!1),this.pickerOpen=e},tryHidePicker(e){e.target.classList.contains("image-picker-overlay")&&(this.showPicker(!1),e.stopPropagation())},triggerInput(e){this.$emit("input",e)},openFileChooser(){this.$el.querySelector(".image-picker-input").click()},allowDrop(e){e.preventDefault()},getFileReader(){var e=new FileReader;return e.addEventListener("load",e=>{this.triggerInput(e.target.result)}),e},onImageSelect(e){if(0!==e.target.files.length){var t=e.target.files[0];t.type.startsWith("image/")&&this.getFileReader().readAsDataURL(t)}},onImageDrop(e){if(e.preventDefault(),0!==e.dataTransfer.files.length){var t=e.dataTransfer.files[0];t.type.startsWith("image/")&&this.getFileReader().readAsDataURL(t)}}}},N,[],!1,null,"641581b7",null));D.options.__file="src/components/image-option.vue";var O=D.exports,F=function(){var e=this.$createElement;return(this._self._c||e)("div")};F._withStripped=!0;var B=Object(f.a)({data:()=>({hello:123})},F,[],!1,null,"384e68ec",null);B.options.__file="src/components/template.vue",B.exports;var W=s(1),z=s(4),H=s(5);function V(e){switch(e){case 0:return"Thin";case 1:return"Normal";case 2:return"Bold";default:return"???"}}function Z(e){switch(e){case 0:return"No";case 1:return"Thin";case 2:return"Thick";case 3:return"Thickest";default:return"???"}}function G(e,t){return e?new Promise((s,i)=>{var n=new Image;n.onload=()=>{var e=document.createElement("canvas"),i=e.getContext("2d"),a=Math.max(n.width,n.height),r=Math.min(n.width,n.height),o=a===n.width,l=Math.min(a,t)/a,c=(o?a:r)*l,d=(o?r:a)*l;e.width=c,e.height=d,i.drawImage(n,0,0,c,d),s(e.toDataURL())},n.onerror=i,n.src=e}):null}var j=PIXI.utils.isWebGLSupported()&&z.useWebGL,K=(s(176),Object(f.a)({components:{colorOption:A,imageOption:O},data:()=>({useWebGL:j,bgDefault:z.getDefault("backgroundImageUrl"),virusDefault:z.getDefault("virusImageUrl"),mbArrowDefault:"https://i.postimg.cc/6pvLJ2TW/image.png",showNameFontWarning:!1,showMassFontWarning:!1,backgroundColor:z.backgroundColor,borderColor:z.borderColor,foodColor:z.foodColor,ejectedColor:z.ejectedColor,cellNameOutlineColor:z.cellNameOutlineColor,cursorImageUrl:z.cursorImageUrl,backgroundImageUrl:z.backgroundImageUrl,virusImageUrl:z.virusImageUrl,cellMassColor:z.cellMassColor,cellMassOutlineColor:z.cellMassOutlineColor,cellNameFont:z.cellNameFont,cellNameWeight:z.cellNameWeight,cellNameOutline:z.cellNameOutline,cellNameSmoothOutline:z.cellNameSmoothOutline,cellMassFont:z.cellMassFont,cellMassWeight:z.cellMassWeight,cellMassOutline:z.cellMassOutline,cellMassSmoothOutline:z.cellMassSmoothOutline,cellMassTextSize:z.cellMassTextSize,cellLongNameThreshold:z.cellLongNameThreshold,shortMass:z.shortMass,showBackgroundImage:z.showBackgroundImage,backgroundImageRepeat:z.backgroundImageRepeat,backgroundDefaultIfUnequal:z.backgroundDefaultIfUnequal,backgroundImageOpacity:z.backgroundImageOpacity,useFoodColor:z.useFoodColor,mbArrow:z.mbArrow,mbColor:z.mbColor}),computed:{cellNameWeightMeaning(){return V(this.cellNameWeight)},cellMassWeightMeaning(){return V(this.cellMassWeight)},cellNameOutlineMeaning(){return Z(this.cellNameOutline)},cellMassOutlineMeaning(){return Z(this.cellMassOutline)},cellMassTextSizeMeaning(){return function(e){switch(e){case 0:return"Small";case 1:return"Normal";case 2:return"Large";case 3:return"Largest";default:return"???"}}(this.cellMassTextSize)}},methods:{async change(e,t,s){var i;i=t&&t.target?isNaN(t.target.valueAsNumber)?t.target.value:t.target.valueAsNumber:t;try{switch(e){case"cursorImageUrl":i=await G(i,32);break;case"backgroundImageUrl":i!==this.bgDefault&&(i=await G(i,4e3));break;case"virusImageUrl":i!==this.virusDefault&&(i=await G(i,200));break;case"mbArrow":Multibox.reloadArrow(i)}}catch(n){return void H.alert("This image is too large to even be loaded.")}if(z[e]!=i){var a=this[e];try{z.set(e,i)}catch(r){return z.set(e,a),void H.alert("Saving this setting failed. Perhaps the image is too large?")}switch(this[e]=i,e){case"cursorImageUrl":W.events.$emit("set-cursor-url",i);break;case"backgroundColor":W.renderer.backgroundColor=PIXI.utils.string2hex(i);break;case"cellNameOutlineColor":case"cellNameFont":case"cellNameWeight":case"cellNameOutline":case"cellNameSmoothOutline":W.settings.compileNameFontStyle();break;case"cellMassColor":case"cellMassOutlineColor":case"cellMassFont":case"cellMassWeight":case"cellMassOutline":case"cellMassSmoothOutline":case"cellMassTextSize":W.settings.compileMassFontStyle();break;case"cellLongNameThreshold":W.scene.resetPlayerLongNames()}if(W.running)switch(e){case"borderColor":W.scene.resetBorder();break;case"foodColor":z.useFoodColor&&W.scene.reloadFoodTextures();break;case"ejectedColor":W.scene.reloadEjectedTextures();break;case"virusImageUrl":W.scene.reloadVirusTexture();break;case"cellNameOutlineColor":case"cellNameFont":case"cellNameWeight":case"cellNameOutline":case"cellNameSmoothOutline":W.scene.resetNameTextStyle();break;case"cellMassColor":case"cellMassOutlineColor":case"cellMassFont":case"cellMassWeight":case"cellMassOutline":case"cellMassSmoothOutline":case"cellMassTextSize":W.scene.resetMassTextStyle(!0);break;case"showBackgroundImage":W.scene.toggleBackgroundImage(i);break;case"backgroundImageUrl":case"backgroundImageRepeat":case"backgroundDefaultIfUnequal":case"backgroundImageOpacity":W.scene.setBackgroundImage();break;case"useFoodColor":W.scene.reloadFoodTextures()}}},confirmReset(){H.confirm("Are you sure you want to reset all setting options?",()=>this.reset())},reset(){var e=["useWebGL","bgDefault","virusDefault","showNameFontWarning","showMassFontWarning"];for(var t in this.$data)e.includes(t)||this.change(t,z.getDefault(t))},fontWarning(e,t){switch(e){case"name":this.showNameFontWarning=t;break;case"mass":this.showMassFontWarning=t}}}},E,[],!1,null,"15c13b66",null));K.options.__file="src/components/theming.vue";var X=K.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"hotkey-container"}},[s("div",{staticClass:"hotkeys"},e._l(e.availableHotkeys,function(t,i){return s("div",{key:i,staticClass:"row"},[s("span",{staticClass:"action"},[e._v(e._s(i))]),e._v(" "),s("span",{staticClass:"bind",attrs:{tabindex:"0"},on:{mousedown:function(s){return e.onMouseDown(s,t)},keydown:function(s){return s.preventDefault(),e.onKeyDown(s,t)}}},[e._v("\n            "+e._s(e.hotkeys[t])+"\n        ")])])}),0),e._v(" "),s("div",{staticClass:"footer"},[s("span",{staticClass:"reset-button2",on:{click:e.onResetClick}},[s("i",{staticClass:"fa fa-undo"}),e._v(" Reset\n    ")])])])};Y._withStripped=!0;var J=s(66),q=s(5),Q=(s(178),Object(f.a)({data:()=>({availableHotkeys:{Multibox:"multibox","Triggerbot lock":"aimbot","Select player":"selectPlayer",Feed:"feed","Feed macro":"feedMacro",Split:"split",Doublesplit:"splitx2",Triplesplit:"splitx3","Quad split":"splitMax","Split 32":"split32","Split 64":"split64","Split 128":"split128","Split 256":"split256","Multi trick-split":"multi1","Multi double-trick":"multi2","Multi line-trick":"multi3","Diagonal linesplit":"linesplit","Freeze mouse":"freezeMouse","Lock linesplit":"lockLinesplit","Stop movement":"stopMovement",Respawn:"respawn","Toggle auto respawn":"toggleAutoRespawn","Toggle skins":"toggleSkins","Toggle names":"toggleNames","Toggle food":"toggleFood","Toggle mass":"toggleMass","Toggle chat":"toggleChat","Toggle chat popup":"toggleChatToast","Toggle HUD":"toggleHud","Spectate lock":"spectateLock","Save replay":"saveReplay","Zoom level 1":"zoomLevel1","Zoom level 2":"zoomLevel2","Zoom level 3":"zoomLevel3","Zoom level 4":"zoomLevel4","Zoom level 5":"zoomLevel5"},hotkeys:J.get()}),methods:{onResetClick:function(){q.confirm("Are you sure you want to reset all hotkeys?",()=>{this.hotkeys=J.reset()})},onMouseDown:function(e,t){if(e.target===document.activeElement){var s="MOUSE"+e.button;J.set(t,s)&&(e.preventDefault(),this.hotkeys[t]=s,e.target.blur())}},onKeyDown:function(e,t){var s=J.convertKey(e.code);"ESCAPE"!==s&&"ENTER"!==s?("DELETE"==s&&(s=""),J.set(t,s)&&(this.hotkeys[t]=s,e.target.blur())):e.target.blur()}}},Y,[],!1,null,"2dbed53e",null));Q.options.__file="src/components/hotkeys.vue";var ee=Q.exports,et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:".vanis",multiple:""},on:{change:function(t){return e.onFile(t)}}}),e._v(" "),s("div",{staticClass:"replay-list-header"},[s("span",{staticClass:"replay-list-count"},[e._v(e._s(e.keysLoadedFirst?e.replayKeys.length+" replay"+(1!==e.replayKeys.length?"s":""):"Loading"))]),e._v(" "),e.keysLoadedFirst&&!e.keysEmpty?s("span",{staticClass:"replay-list-page"},[s("div",{staticClass:"anchor"},[s("div",{staticClass:"left"},[s("div",{staticClass:"current"},[s("div",{staticClass:"phantom"},[s("i",{staticClass:"fas fa-chevron-left prev",class:{disabled:!e.keysLoaded||0===e.pageIndex},on:{click:function(){return e.updateReplayPage(-1)}}}),e._v(" "),s("span",[e._v(e._s(e.pageCount))])]),e._v(" "),e.pageInputShown?e._e():s("div",{staticClass:"real",on:{click:function(){return e.togglePageInput(!0)}}},[s("span",[e._v(e._s(1+e.pageIndex))])]),e._v(" "),e.pageInputShown?s("div",{staticClass:"real-input"},[s("div",{staticClass:"overlay",on:{click:function(){return e.togglePageInput(!1)}}}),e._v(" "),s("i",{staticClass:"fas fa-chevron-left prev",class:{disabled:!e.keysLoaded||0===e.pageIndex},on:{click:function(){return e.updateReplayPage(-1)}}}),e._v(" "),s("input",{attrs:{type:"text"},domProps:{value:1+e.pageIndex},on:{focus:function(e){return e.target.select()},change:function(t){return e.updateReplayPage(t)}}})]):e._e()])]),e._v("\n            /\n            "),s("div",{staticClass:"right"},[e._v("\n                "+e._s(e.pageCount)+"\n                    "),s("i",{staticClass:"fas fa-chevron-right next",class:{disabled:!e.keysLoaded||e.pageIndex===e.pageCount-1},on:{click:function(){return e.updateReplayPage(1)}}})])])]):e._e(),e._v(" "),s("span",{staticClass:"replay-list-bulk"},[s("input",{staticClass:"vanis-button",attrs:{type:"button",disabled:!e.keysLoaded,value:"Import"},on:{click:function(){return e.$refs.file.click()}}}),e._v(" "),s("input",{staticClass:"vanis-button",attrs:{type:"button",disabled:!e.keysLoaded||e.keysEmpty,value:"Download all"},on:{click:function(){return e.downloadAllReplays()}}}),e._v(" "),s("input",{staticClass:"vanis-button",attrs:{type:"button",disabled:!e.keysLoaded||e.keysEmpty,value:"Delete all"},on:{click:function(){return e.deleteAllReplays()}}})])]),e._v(" "),s("div",{staticClass:"replay-list"},[e.keysLoadedFirst&&e.keysEmpty?[s("div",{staticClass:"notification"},[s("div",[e._v("Press "),s("b",[e._v(e._s(e.messageHotkey))]),e._v(" in game to save last "),s("b",[e._v(e._s(e.messageReplayDuration))]),e._v(" seconds of gameplay.")]),e._v(" "),s("div",{staticStyle:{color:"red","font-weight":"bold"}},[e._v("Replays are saved in browser memory!")]),e._v(" "),s("div",[e._v("They get permanently erased if browser data gets cleared.")])])]:e._e(),e._v(" "),e.keysLoadedFirst&&!e.keysEmpty?[s("div",{staticClass:"replay-page"},e._l(e.pageData,function(e,t){return s("replay-item",{key:t,attrs:{replay:e}})}),1)]:e._e()],2),e._v(" "),e.bulkOperating?s("div",{staticClass:"overlay bulk-operation-overlay"},[e._v("\n        Please wait...\n        "),e.bulkOperationStatus?s("div",{staticClass:"small"},[e._v(e._s(e.bulkOperationStatus))]):e._e(),e._v(" "),e.showMultipleFilesWarning?s("div",{staticClass:"small warning"},[e._v("Allow page to download multiple files if asked")]):e._e()]):e._e()])};et._withStripped=!0;var es=s(116),ei=s(89),en=s(180),ea=s(1),er=s(66),eo=s(4),el=s(5),ec=s(8),ed=ea.replay.database,eh={data:()=>({keysLoadedFirst:!1,keysLoaded:!1,keysLoading:!1,keysEmpty:!1,replayKeys:[],pageInputShown:!1,pageLoadingCancel:null,pageLoaded:!1,pageIndex:0,pageCount:0,pageData:[],bulkOperating:!1,bulkOperationStatus:"",showMultipleFilesWarning:!1,messageHotkey:er.get().saveReplay,messageReplayDuration:eo.replayDuration}),components:{replayItem:es.default},methods:{togglePageInput(e){this.pageInputShown=e},setBulkOp(e,t){e?(this.bulkOperating=!0,this.bulkOperationStatus=t||""):setTimeout(()=>{this.bulkOperating=!1,this.bulkOperationStatus=""},1e3)},async onFile(e){if(!this.bulkOperating){var t=Array.from(e.target.files);if(t.length){e.target&&(e.target.value=null);var s=0,i=t.length,n=t.map(async e=>{var t,n;await ed.setItem(e.name.replace(/\.vanis$/,""),await (t=e,new Promise((e,s)=>{var i=new FileReader;i.onload=t=>e(t.target.result),i.onerror=s,i.readAsText(t)}))),this.setBulkOp(!0,"Importing replays ("+ ++s+" / "+i+")")});this.setBulkOp(!0,"Importing replays");try{await Promise.all(n)}catch(a){el.alert('Error importing replays: "'+a.message+'"'),this.setBulkOp(!1),this.updateReplayKeys()}this.setBulkOp(!1),this.updateReplayKeys()}}},async downloadAllReplays(){if(!this.bulkOperating&&this.keysLoaded){var e=this.replayKeys.length,t=Math.ceil(this.replayKeys.length/200),s=t>1,i=ec.getTimestamp();this.showMultipleFilesWarning=s,this.setBulkOp(!0,"Packing replays (0 / "+t+")");for(var n=0,a=0;n<e;n+=200,a++){for(var r=new en,o=n;o<n+200&&o<e;o++){var l=this.replayKeys[o];r.file(l+".vanis",await ed.getItem(l))}var c=await r.generateAsync({type:"blob"}),d="replays_"+i;s&&(d+="_"+(a+1)),d+=".zip",ei.saveAs(c,d),this.setBulkOp(!0,"Packing replays ("+(a+1)+" / "+t+")")}this.showMultipleFilesWarning=!1,this.setBulkOp(!1)}},deleteAllReplays(){if(!this.bulkOperating){var e=this;el.confirm("Are you absolutely sure that you want to delete all replays?",async()=>{this.setBulkOp(!0,"Deleting all replays");try{await ed.clear()}catch(t){return void el.alert("Error clearing replays: "+t.message)}this.setBulkOp(!1),e.updateReplayKeys()})}},async updateReplayKeys(){if(!this.keysLoading){this.keysLoaded=!1,this.keysLoading=!0;var e=await ed.keys();e=e.reverse(),this.replayKeys.splice(0,this.replayKeys.length,...e),this.pageCount=Math.max(Math.ceil(e.length/12),1),this.pageIndex=Math.min(this.pageIndex,this.pageCount-1),this.keysLoaded=!0,this.keysLoadedFirst=!0,this.keysLoading=!1,this.keysEmpty=0===e.length,await this.updateReplayPage()}},async updateReplayPage(e){e&&("number"==typeof e?this.pageIndex+=e:this.pageIndex=parseInt(e.target.value)-1||0),this.pageLoadingCancel&&(this.pageLoadingCancel(),this.pageLoadingCancel=null);var t=Math.max(Math.min(this.pageIndex,this.pageCount-1),0);this.pageIndex!==t&&(this.pageIndex=t),this.pageLoaded=!1;var s=[],i=!1;this.pageLoadingCancel=()=>i=!0;for(var n=12*this.pageIndex,a=12*(1+this.pageIndex),r=n;r<a&&r<this.replayKeys.length&&!i;r++){var o=this.replayKeys[r],l={name:o,data:await ed.getItem(o)};l.data.startsWith("REPLAY")?l.image=l.data.split("|")[2]:l.image="https://vanis.io/img/replay-placeholder.png",s.push(l)}i||(this.pageData.splice(0,this.pageData.length,...s),this.pageLoaded=!0)}},created(){this.updateReplayKeys(),ea.events.$on("replay-added",this.updateReplayKeys),ea.events.$on("replay-removed",this.updateReplayKeys)},beforeDestroy(){ea.events.$off("replay-added",this.updateReplayKeys),ea.events.$off("replay-removed",this.updateReplayKeys)}},eu=(s(220),Object(f.a)(eh,et,[],!1,null,"4a996e52",null));eu.options.__file="src/components/replays3.vue";var ep=eu.exports,em=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{padding:"15px"}},[s("h2",{staticStyle:{margin:"0","margin-bottom":"14px"}},[e._v(e._s(e.seasonLeaderboardText))]),e._v(" "),e.errorMessage?s("div",[e._v("\n    Failed loading season leaderboard data:\n    "+e._s(e.errorMessage)+"\n")]):e._e(),e._v(" "),e.playerList.length?s("div",[s("div",{staticClass:"info"},[e._v("\n        Season XP counts for this season only."),s("br"),e._v("\n            Top few players earn colored names."),s("br"),e._v("\n        Check our "),s("a",{attrs:{href:"https://vanis.io/discord"}},[e._v("Discord")]),e._v(" for more information."),s("br"),e._v("\n        Season ends in "),s("b",[e._v(e._s(e.seasonEndTime))])]),e._v(" "),e._l(e.playerList,function(t,i){return s("div",{key:i,staticClass:"player-row",class:{me:!!e.isMe}},[s("span",{staticClass:"player-nr"},[e._v(e._s(i+1)+".")]),e._v(" "),s("span",{staticClass:"player-name",style:{color:t.name_color}},[e._v(e._s(t.name))]),e._v(" "),s("span",{staticClass:"player-xp"},[e._v(e._s(t.xp)+" XP")])])})],2):e._e()])};em._withStripped=!0;var ev=s(1),eg=s(228),{checkBadWords:ef}=s(17),ey=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ew=(s(222),Object(f.a)({data:()=>({playerList:[],errorMessage:"",ownUid:null,date:new Date,nextStartDate:Date.UTC((new Date).getUTCFullYear(),(new Date).getUTCMonth()+1),seasonEndTime:null,seasonEndTimeInterval:null,selected:"sxp"}),computed:{seasonLeaderboardText(){return ey[this.date.getUTCMonth()]+" "+this.date.getUTCFullYear()+" season"}},methods:{setSeasonEndTime(){this.seasonEndTime=function(e){if(e<0)return"now";var t=Math.floor(e/1e3),s=t%60,i=Math.floor(t/60),n=i%60,a=Math.floor(i/60),r=a%24,o=Math.floor(a/24),l=[];return o>0&&l.push(o+" day"+(1!==o?"s":"")),r%24>0&&l.push(r+" hour"+(1!==r?"s":"")),0===o&&n%60>0&&l.push(n+" minute"+(1!==n?"s":"")),0===a&&s%60>0&&l.push(s+" second"+(1!==s?"s":"")),l.join(" ")}(this.nextStartDate-Date.now())}},async created(){let e=await eg.get("/leaderboard/season_xp/100");if(!e.ok)return;let t=await e.json();this.playerList=t.map(e=>({name:e.perk_name||e.discord_name,name_color:"#"+(e.perk_color||"ffffff"),badge:e.perk_badges||0,xp:e.season_xp,isMe:e.me})),ev.events.$on("every-second",this.setSeasonEndTime),this.setSeasonEndTime()},destroyed(){ev.events.$off("every-second",this.setSeasonEndTime)}},em,[],!1,null,"7179a145",null));ew.options.__file="src/components/meta-leaderboard.vue";var e$=ew.exports,eb=(s(19),s(1)),e_=(s(5),{components:{modal:_.default,settings:P,theming:X,hotkeys:ee,replays3:ep,metaLeaderboard:e$},data:()=>({activeModal:"",showSettings:!1,showHotkeys:!1,gameState:eb.state,nickname:"string"==typeof localStorage.nickname?localStorage.nickname:"",teamtag:localStorage.teamtag||"",skinUrl:"string"==typeof localStorage.skinUrl?localStorage.skinUrl:"https://skins.vanis.io/s/vanis1"}),created:function(){eb.events.$on("skin-click",e=>{this.skinUrl=localStorage.skinUrl=document.getElementById("skinDisplay1").src=e})},methods:{openModal:function(e){this.activeModal=e,this.$emit("modal-open",!0)},closeModal:function(){this.activeModal="",this.$emit("modal-open",!1)},play:function(e){e instanceof MouseEvent&&e.isTrusted&&(this.gameState.isAlive||eb.actions.join(),eb.showMenu(!1))},spectate:function(){this.gameState.isAlive||(eb.actions.spectate(),eb.showMenu(!1))},onSkinUrlChange(){eb.events.$emit("skin-url-edit",this.skinUrl)},onTeamTagChange(){localStorage.setItem("teamtag",this.teamtag)},onNicknameChange(){localStorage.setItem("nickname",this.nickname)}}}),ek=(s(224),Object(f.a)(e_,b,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"text-align":"center",height:"286px"}},[t("div",{staticStyle:{padding:"4px"}},[this._v("")])])}],!1,null,"1bcde71e",null));ek.options.__file="src/components/player.vue";var eC=ek.exports,e8=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{padding:"12px 15px"}},[e.account?e._e():s("div",[s("div",{staticStyle:{"margin-top":"6px","margin-bottom":"10px"}},[e._v("Login to your account with Discord to save your in-game progress.")]),e._v(" "),s("div",{staticClass:"discord",on:{click:function(){return e.openDiscordLogin()}}},[e.loading?[e.loading?s("i",{staticClass:"fas fa-sync fa-spin",staticStyle:{"margin-right":"5px"}}):e._e(),e._v(" Loading\n        ")]:[s("i",{staticClass:"fab fa-discord"}),e._v(" Login with Discord\n            ")]],2)]),e._v(" "),e.account?s("div",{staticClass:"account"},[s("div",{staticStyle:{"margin-bottom":"3px"}},[s("img",{staticClass:"avatar",attrs:{src:e.avatarUrl}}),e._v(" "),s("div",{staticClass:"player-info"},[s("div",{style:{color:e.nameColor},attrs:{id:"account-name"}},[e._v(e._s(e.name))]),e._v(" "),s("div",[e._v("Level "+e._s(e.account.level))]),e._v(" "),s("div",[e._v(e._s(e.account.xp)+" total XP")]),e._v(" "),s("div",[e._v(e._s(e.account.season_xp||0)+" season XP")])])]),e._v(" "),s("div",{staticStyle:{position:"relative"}},[s("progress-bar",{staticClass:"xp-progress",attrs:{progress:e.progress}}),e._v(" "),s("div",{staticClass:"xp-data"},[s("div",{staticStyle:{flex:"1","margin-left":"8px"}},[e._v(e._s(e.xpAtCurrentLevel))]),e._v(" "),s("div",{staticStyle:{"margin-right":"7px"}},[e._v(e._s(e.xpAtNextLevel))])])],1),e._v(" "),s("div",{staticClass:"logout",on:{click:function(){return e.logout()}}},[s("i",{staticClass:"fas fa-sign-out-alt"}),e._v(" Logout\n    ")])]):e._e()])};e8._withStripped=!0;var ex=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress progress-striped"},[t("div",{staticClass:"progress-bar",style:{width:100*this.progress+"%"}})])};ex._withStripped=!0;var eS=(s(226),Object(f.a)({props:["progress"]},ex,[],!1,null,"4e838c74",null));eS.options.__file="src/components/progressBar.vue";var e0=eS.exports,eM=s(228),eT=s(5),eI=s(1),eL=s(229),eP=(s(230),Object(f.a)({components:{progressBar:e0},data:()=>({accountTime:0,account:null,progress:0,xpAtCurrentLevel:0,xpAtNextLevel:0,loading:!1,avatarUrl:null,nameColor:null,name:null}),created(){eI.events.$on("xp-update",this.onXpUpdate),this.reloadUserData(),this.listenForToken()},beforeDestroy(){eI.events.$off("xp-update",this.onXpUpdate)},methods:{listenForToken(){window.addEventListener("message",e=>{var t=e.data.vanis_token;t&&(this.onLoggedIn(t),e.source.postMessage("loggedIn",e.origin))})},reloadUserData(){Date.now()-this.accountTime<=6e4||(this.accountTime=Date.now(),eM.vanisToken&&this.loadUserData())},async loadUserData(){this.loading=!0;let e=await eM.get("/me");if(!e.ok){this.loading=!1,console.error("Account:",e.status,e.statusText),401===e.status?eM.clearToken():503===e.status&&eT.alert(await e.text());return}let t=await e.json();this.setAccountData(t),this.updateProgress(this.account.xp,this.account.level),this.loading=!1},async logout(){try{await eM.call("DELETE","/me")}catch(e){var t=e.response;t&&401!==t.status&&eT.alert("Error: "+e.message)}eM.clearToken(),this.account=null,this.name=null,this.nameColor=null,this.avatarUrl=null,eI.ownUid=null},getAvatarUrl:(e,t)=>t?"https://cdn.discordapp.com/avatars/"+e+"/"+t+".png":"https://cdn.discordapp.com/embed/avatars/0.png",setAccountData(e){e.permissions&&(window.gameObj=eI),GAME.account=e,this.account=e,this.avatarUrl=this.getAvatarUrl(e.discord_id,e.discord_avatar),this.name=e.locked_name||e.discord_name,this.nameColor=e.name_color?"#"+e.name_color:"#ffffff",eI.ownUid=e.uid},onXpUpdate(e){if(this.account){var t=eL.getLevel(e);this.account.season_xp+=e-this.account.xp,this.account.xp=e,this.account.level=t,this.updateProgress(e,t)}},updateProgress(e,t){this.xpAtCurrentLevel=eL.getXp(t),this.xpAtNextLevel=eL.getXp(t+1),this.progress=(e-this.xpAtCurrentLevel)/(this.xpAtNextLevel-this.xpAtCurrentLevel)},openDiscordLogin:function(){window.open(eM.url+"/login/discord","","width=500, height=750")},onLoggedIn(e){eM.setToken(e),this.loadUserData()}}},e8,[],!1,null,"661435cd",null));eP.options.__file="src/components/account.vue";var eE=eP.exports,e4=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"skins-container"}},[s("div",{attrs:{id:"skins"}},[e._l(e.skins,function(t,i){return s("span",{key:i,staticClass:"skin-container"},[s("img",{staticClass:"skin",class:{selected:e.selectedSkinIndex===i},attrs:{src:t,alt:""},on:{click:function(){return e.selectSkin(i)},contextmenu:function(){getModule(4).set("mbSkin",GAME.skinPanel.skins[i]),document.getElementById("skinDisplay2").src=GAME.skinPanel.skins[i],window.SwalAlerts.toast.fire({type:"info",title:"Multibox skin set!",timer:1500})}}}),e._v(" "),s("i",{staticClass:"fas fa-times skin-remove-button",on:{click:function(){return e.removeSkin(i)}}})])}),e._v(" "),s("img",{staticClass:"skin add-skin",attrs:{src:"/img/skin-add.png",alt:""},on:{click:function(){return e.addSkin()}}})],2)])};e4._withStripped=!0;var e1=s(1),e3=(s(232),Object(f.a)({data:()=>({selectedSkinIndex:0,skins:[],skinsLoaded:[]}),created(){e1.events.$on("skin-url-edit",this.onSkinUrlChanged.bind(this)),this.skins=this.loadSkins()||this.getDefaultSkins();var e=Number(localStorage.selectedSkinIndex)||0;this.selectSkin(e),GAME.skinPanel=this},methods:{loadSkins(){var e=localStorage.skins;if(!e)return!1;try{var t=JSON.parse(e)}catch(s){return!1}if(!Array.isArray(t))return!1;for(var i=t.length;i<2;i++)t.push("https://skins.vanis.io/s/vanis1");return t},getDefaultSkins(){for(var e=[],t=0;t<8;t++)e.push("https://skins.vanis.io/s/vanis1");return e},onSkinUrlChanged(e){this.$set(this.skins,this.selectedSkinIndex,e),this.saveSkins()},selectSkin(e){this.selectedSkinIndex=e,localStorage.selectedSkinIndex=e;var t=this.skins[e];e1.events.$emit("skin-click",t)},removeSkin(e){this.skins.splice(e,1),this.skins.length<2&&this.skins.push("https://skins.vanis.io/s/vanis1"),this.saveSkins();var t=Math.max(0,this.selectedSkinIndex-1);this.selectSkin(t)},addSkin(e){if(!this.skins.includes(e)){var t=this.skins.length;this.skins.push(e||"https://skins.vanis.io/s/vanis1"),e||this.selectSkin(t),this.saveSkins()}},saveSkins(){localStorage.skins=JSON.stringify(this.skins)}}},e4,[],!1,null,"1c614894",null));e3.options.__file="src/components/skins.vue";var eU=e3.exports,e2=s(1),eR=(s(234),Object(f.a)({data:()=>({isModalOpen:!1,selectedTab:"servers",gameState:e2.state,cursorStyleElem:null}),methods:{onModalChange:function(e){this.isModalOpen=e},setCursorUrl(e){var t=null;e&&(t="#canvas, #hud > * { cursor: url('"+e+"'), auto !important; }"),!t&&this.cursorStyleElem?(this.cursorStyleElem.remove(),this.cursorStyleElem=null):t&&!this.cursorStyleElem&&(this.cursorStyleElem=document.createElement("style"),document.head.appendChild(this.cursorStyleElem)),this.cursorStyleElem&&(this.cursorStyleElem.innerHTML=t)}},components:{servers:w,playerContainer:eC,account:eE,skins:eU},created(){e2.events.$on("set-cursor-url",e=>this.setCursorUrl(e))},mounted(){this.setCursorUrl(e2.settings.cursorImageUrl)}},o,[],!1,null,"ebed1606",null));eR.options.__file="src/components/main-container.vue";var eA=eR.exports,eN=function(){this.$createElement,this._self._c};eN._withStripped=!0,s(236);var e9=Object(f.a)({},eN,[function(){}],!1,null,"4d0670e9",null);e9.options.__file="src/components/social-links.vue";var eD=e9.exports,eO=function(){return this.$createElement,this._self._c,this._m(0)};eO._withStripped=!0;var eF=(s(238),Object(f.a)({data(){}},eO,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("a",{staticStyle:{"margin-left":"20.59px"},attrs:{href:"privacy.html",target:"_blank"}},[this._v("")]),this._v(" "),t("span",{staticClass:"line"},[this._v("")]),this._v(" "),t("a",{attrs:{href:"tos.html",target:"_blank"}},[this._v("")])])}],!1,null,"6843da33",null));eF.options.__file="src/components/privacy-tos.vue";var eB=eF.exports,e6=function(){var e=this.$createElement,t=this._self._c||e;return this.show?t("div",{staticClass:"context-menu fade",style:{top:this.y+"px",left:this.x+"px"}},[t("div",{staticClass:"player-name"},[this._v(this._s(this.playerName))]),this._v(" "),t("div",[this._v("Block")]),this._v(" "),t("div",{on:{click:this.hideName}},[this._v("Hide Name")]),this._v(" "),t("div",{on:{click:this.hideSkin}},[this._v("Hide Skin")]),this._v(" "),t("div",[this._v("Kick")]),this._v(" "),t("div",[this._v("Ban")]),this._v(" "),t("div",[this._v("Mute")])]):this._e()};e6._withStripped=!0,s(1);var eW=(s(240),Object(f.a)({data:()=>({show:!1,playerName:"",x:100,y:55}),methods:{open:function(e,t){this.player=t,this.playerName=t.name,this.x=e.clientX,this.y=e.clientY,this.show=!0,document.addEventListener("click",()=>{this.show=!1},{once:!0})},hideName:function(){this.player.setName(""),this.player.invalidateVisibility()},hideSkin:function(){this.player.setSkin(""),this.player.invalidateVisibility()}},created(){}},e6,[],!1,null,"4dbee04d",null));eW.options.__file="src/components/context-menu.vue";var ez=eW.exports,eH=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"hud"}},[t("stats"),this._v(" "),t("chatbox"),this._v(" "),t("leaderboard"),this._v(" "),t("minimap"),this._v(" "),t("cautions")],1)};eH._withStripped=!0;var e5=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"server-cautions"},e._l(e.serverInfo,function(t){return s("div",[e._v(e._s(t))])}),0),e._v(" "),s("div",{staticClass:"cautions"},[!e.stopped&&e.showMouseFrozen?s("div",[e._v("MOUSE FROZEN")]):e._e(),e._v(" "),!e.stopped&&e.showMovementStopped?s("div",[e._v("MOVEMENT STOPPED")]):e._e(),e._v(" "),!e.stopped&&e.showLinesplitting?s("div",[e._v("LINESPLITTING")]):e._e()])])};e5._withStripped=!0;var e7=s(1),eV=(s(242),Object(f.a)({data:()=>({showMouseFrozen:!1,showMovementStopped:!1,showLinesplitting:!1,serverInfo:null}),mounted(){e7.events.$on("update-cautions",e=>{GAME.cautions=this,"mouseFrozen"in e&&(this.showMouseFrozen=e.mouseFrozen),"moveToCenterOfCells"in e&&(this.showMovementStopped=e.moveToCenterOfCells),"lockLinesplit"in e&&(this.showLinesplitting=e.lockLinesplit),"custom"in e&&(this.serverInfo=e.custom.split(/\r\n|\r|\n/))}),e7.events.$on("reset-cautions",()=>{this.showMouseFrozen=!1,this.showMovementStopped=!1,this.showLinesplitting=!1}),e7.events.$on("game-stopped",()=>{this.serverInfo=null})}},e5,[],!1,null,"b7599310",null));eV.options.__file="src/components/cautions.vue";var eZ=eV.exports,eG=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"stats"},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.showFPS,expression:"showFPS"}]},[this._v("FPS: "+this._s(this.fps||"-"))]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.showPing,expression:"showPing"}]},[this._v("Ping: "+this._s(this.ping||"-"))]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.showPlayerMass&&this.mass,expression:"showPlayerMass && mass"}]},[this._v("Mass: "+this._s(this.mass))]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.showPlayerScore&&this.score,expression:"showPlayerScore && score"}]},[this._v("Score: "+this._s(this.score))]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.showCellCount&&this.cells,expression:"showCellCount && cells"}]},[this._v("Cells: "+this._s(this.cells))])])};eG._withStripped=!0;var ej=s(1),eK=s(4),eX=(s(244),Object(f.a)({data:()=>({showFPS:eK.showFPS,showPing:eK.showPing,showPlayerMass:eK.showPlayerMass,showPlayerScore:eK.showPlayerScore,showCellCount:eK.showCellCount,visible:!1,ping:0,fps:0,mass:0,score:0,cells:0}),created(){ej.events.$on("stats-visible",e=>this.visible=e),ej.events.$on("stats-invalidate-shown",()=>{this.showFPS=eK.showFPS,this.showPing=eK.showPing,this.showPlayerMass=eK.showPlayerMass,this.showPlayerScore=eK.showPlayerScore,this.showCellCount=eK.showCellCount}),ej.events.$on("cells-changed",e=>this.cells=e),ej.events.$on("stats-changed",e=>{this.ping=e.ping||0,this.fps=e.fps||0,this.mass=e.mass?ej.getMassText(e.mass):0,this.score=e.score?ej.getMassText(e.score):0})}},eG,[],!1,null,"0875ad82",null));eX.options.__file="src/components/stats.vue";var eY=eX.exports,eJ=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],attrs:{id:"chat-container"},on:{click:function(t){return e.onChatClick(t)},contextmenu:function(t){return e.onChatRightClick(t)}}},[e.visibleToast?[s("transition-group",{attrs:{name:"toast",tag:"div",id:"toast-list"}},e._l(e.toastMessages,function(t){return s("span",{key:t.id},[s("span",{staticClass:"message-row"},[t.from?[s("span",{staticClass:"message-from",style:{color:t.fromColor},attrs:{"data-pid":t.pid}},[e._v(e._s(t.from))]),e._v(":\n                ")]:e._e(),e._v(" "),s("span",{staticClass:"message-text",style:{color:t.textColor}},[e._v(e._s(t.text))])],2)])}),0)]:e._e(),e._v(" "),s("div",{class:{toasts:e.visibleToast,visible:e.visibleInput},attrs:{id:"chatbox"}},[e.showBlockedMessageCount&&e.blockedMessageCount?s("div",{staticStyle:{position:"absolute",top:"-28px"}},[e._v("Blocked messages: "+e._s(e.blockedMessageCount))]):e._e(),e._v(" "),e.visibleToast?e._e():[s("div",{ref:"list",attrs:{id:"message-list"}},e._l(e.messages,function(t,i){return s("div",{key:i,staticClass:"message-row"},[t.from?[s("span",{staticClass:"message-from",style:{color:t.fromColor},attrs:{"data-pid":t.pid}},[e._v(e._s(t.from))]),e._v(":\n                    ")]:e._e(),e._v(" "),s("span",{staticClass:"message-text",style:{color:t.textColor}},[e._v(e._s(t.text))])],2)}),0)],e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputText,expression:"inputText"}],ref:"input",attrs:{id:"chatbox-input",type:"text",spellcheck:"false",autocomplete:"off",maxlength:"1000",tabindex:"-1",placeholder:"Type your message here"},domProps:{value:e.inputText},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.sendChatMessage()},input:function(t){t.target.composing||(e.inputText=t.target.value)}}})],2)],2)};eJ._withStripped=!0;var eq=s(1),eQ=s(4),te=s(5),{replaceBadWordsChat:tt}=s(17),ts={},ti=(s(246),Object(f.a)({data:()=>({visible:!1,visibleToast:eQ.showChatToast,visibleInput:!1,inputText:"",messages:[],toastMessages:[],showBlockedMessageCount:eQ.showBlockedMessageCount,blockedMessageCount:0,nextMessageId:0}),methods:{onChatClick(e){var t=e.target.dataset.pid;t&&(eq.selectedPlayer=t,eq.actions.spectate(t),eq.actions.targetPlayer(t))},onChatRightClick(e){var t=e.target.dataset.pid;if(t){var s=eq.playerManager.getPlayer(t);s?ts[t]?this.confirmUnblockPlayer(s):this.confirmBlockPlayer(s):te.alert("Player does not exist or disconnected")}},confirmBlockPlayer(e){te.confirm('Block player "'+e.name+'" until restart?',()=>{e.isMe?te.alert("You can not block yourself"):(ts[e.pid]=e.name,eq.events.$emit("chat-message",'Blocked player "'+e.name+'"'))})},confirmUnblockPlayer(e){te.confirm('Unblock player "'+e.name+'"?',()=>{delete ts[e.pid],eq.events.$emit("chat-message",'Unblocked player "'+e.name+'"')})},sendChatMessage(){let e=this.inputText.trim();e&&(eq.connection.sendChatMessage(e),this.inputText=""),eq.renderer.view.focus(),this.scrollBottom(!0)},onChatMessage(e){if("string"==typeof e&&(e={text:e,textColor:"#828282"}),!GAME.settings.chatColorOnlyPeople||e.fromColor||e.textColor){if(ts[e.pid])this.blockedMessageCount++;else{eQ.filterChatMessages&&(e.text=tt(e.text));var t="#ffffff";e.fromColor=e.fromColor||t,e.textColor=e.textColor||t,this.messages.push(e),this.messages.length>400&&this.messages.shift(),e.id=this.nextMessageId++,e.until=Date.now()+5e3,this.toastMessages.unshift(e),this.scrollBottom(!1),0==e.pid&&setTimeout(()=>{var e=document.querySelectorAll(".message-text"),t=e[e.length-1];t.innerText.split(" ").forEach(e=>{var s=e.split("?")[1];(e=e.split("?")[0]).startsWith("http")&&["jpg","png","jpeg","jfif","webp","gif"].some(t=>e.endsWith("."+t))&&(t.innerHTML=t.innerHTML.replace(e,`<br><img style="width:70%" src="${e}">`).replace("?"+s,"")),e.startsWith("https://skins.vanis.io/s/")&&(t.innerHTML=t.innerHTML.replace(e,`${e}<br><img style="width:40%" src="${e}">`)),this.scrollBottom(!1)})},500)}}},onVisibilityChange({visible:e,visibleToast:t}){null!=e&&(this.visible=e),null!=t&&(this.visibleToast=t,this.visibleInput=this.visible&&!t),this.$nextTick(()=>this.scrollBottom(!0))},focusChat(){this.visible&&(this.visibleInput=!0,this.$nextTick(()=>this.$refs.input.focus()))},clearChat(){eQ.clearChatMessages&&(this.messages.splice(0,this.messages.length),this.toastMessages.splice(0,this.toastMessages.length),this.nextMessageId=0)},scrollBottom(e=!1){if(!this.visibleToast){var t=this.$refs.list,s=t.scrollHeight-t.clientHeight;!e&&s-t.scrollTop>30||this.$nextTick(()=>t.scrollTop=t.scrollHeight)}},filterToasts(){for(var e=0;e<this.toastMessages.length;e++)this.toastMessages[e].until>=Date.now()||this.toastMessages.splice(e--,1)}},created(){eq.Chat=this,eq.events.$on("chat-visible",this.onVisibilityChange),eq.events.$on("chat-focus",this.focusChat),eq.events.$on("chat-message",this.onChatMessage),eq.events.$on("server-message",this.onServerMessage),eq.events.$on("every-second",this.filterToasts),eq.events.$on("chat-clear",this.clearChat),eq.events.$on("show-blocked-message-count",e=>this.showBlockedMessageCount=e),eq.events.$on("game-stopped",()=>{this.blockedMessageCount=0,ts={}}),document.addEventListener("focusin",e=>{this.visibleInput=!this.visibleToast||e.target===this.$refs.input})}},eJ,[],!1,null,"4900a413",null));ti.options.__file="src/components/chatbox.vue";var tn=ti.exports,ta=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.userVisible&&e.visible,expression:"userVisible && visible"}],attrs:{id:"leaderboard"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.headerVisible,expression:"headerVisible"}],staticClass:"leaderboard-title"},[e._v(e._s(e.headerText))]),e._v(" "),s("div",e._l(e.leaderboard,function(t,i){return s("div",{key:i,staticClass:"leaderboard-label"},[e._v(" "),s("span",{class:{spectating:!e.gameState.isAlive},style:{color:t.color,fontWeight:t.bold?"bold":"normal"},attrs:{"data-pid":t.pid},on:{click:function(t){return e.leftClickLabel(t)}}},[e._v(e._s(t.text))])])}),0)])};ta._withStripped=!0;var tr=s(1),to=s(4),tl=(s(248),Object(f.a)({data:()=>({userVisible:to.showLeaderboard,visible:!1,headerVisible:!0,headerText:"Leaderboard",leaderboard:[],gameState:tr.state}),methods:{updateLeaderboard(e,t){if(this.leaderboard=e,t)this.headerVisible=t.visible,this.headerText=t.text;else if(to.showServerName&&this.gameState.selectedServer){this.headerVisible=!0;var s=this.gameState.selectedServer.region||"";s&&(s+=" "),this.headerText=s+this.gameState.selectedServer.name}else this.headerVisible=!0,this.headerText="Leaderboard"},leftClickLabel(){var e=event.target.dataset.pid;e&&(tr.selectedPlayer=e,tr.actions.spectate(e),tr.actions.targetPlayer(e))},onLeaderboardShow(){this.visible||(tr.events.$on("leaderboard-update",this.updateLeaderboard),this.visible=!0)},onLeaderboardHide(){this.visible&&(tr.events.$off("leaderboard-update",this.updateLeaderboard),this.leaderboard=[],this.visible=!1,this.selectedServer=null)}},created(){tr.events.$on("leaderboard-visible",e=>this.userVisible=e),tr.events.$on("leaderboard-show",this.onLeaderboardShow),tr.events.$on("leaderboard-hide",this.onLeaderboardHide)}},ta,[],!1,null,"8a0c31c6",null));tl.options.__file="src/components/leaderboard.vue";var tc=tl.exports,td={components:{stats:eY,chatbox:tn,minimap:s(117).default,leaderboard:tc,cautions:eZ}},th=(s(252),Object(f.a)(td,eH,[],!1,null,"339660d2",null));th.options.__file="src/components/hud.vue";var tu=th.exports,tp=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"menu"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"fade-box box-1"},[s("div",{staticStyle:{padding:"4px"}},[e._v("Advertisement")]),e._v(" "),s("div",{staticStyle:{padding:"10px","padding-top":"0px"}},[s("div",{attrs:{id:"vanis-io_300x250_2"}})])]),e._v(" "),e.stats?s("div",{staticClass:"fade-box",class:{scroll:e.isLoadingAd}},[s("div",{staticStyle:{padding:"15px"}},[s("div",[e._v("Time Alive: "+e._s(e.timeAlive))]),e._v(" "),s("div",[e._v("Highscore: "+e._s(e.highscore))]),e._v(" "),s("div",[e._v("Players Eaten: "+e._s(e.stats.killCount))]),e._v(" "),s("btn",{staticClass:"continue",nativeOn:{click:function(t){return e.onContinueClick(t)}}},[e._v("Continue")])],1)]):e._e()])])};tp._withStripped=!0;var tm=s(1),tv=s(77),tg=(s(254),Object(f.a)({props:["stats"],data:()=>({isLoadingAd:!1}),computed:{timeAlive(){var e=this.stats.timeAlive;return e<60?e+"s":Math.floor(e/60)+"min "+e%60+"s"},highscore(){return tm.getMassText(this.stats.highscore)}},methods:{loadAd(){this.isLoadingAd=tv.refreshAd("death-box")},onContinueClick(){tm.state.deathDelay=!1,tm.app.showDeathScreen=!1,tm.showMenu(!0)}},created(){tm.events.$on("refresh-deathscreen-ad",this.loadAd)}},tp,[],!1,null,"3249d726",null));tg.options.__file="src/components/death-stats.vue";var tf=tg.exports,ty=function(){var e=this.$createElement;return(this._self._c||e)("button",{staticClass:"btn"},[this._t("default",[this._v("Here should be something")])],2)};ty._withStripped=!0;var tw=(s(256),Object(f.a)({},ty,[],!1,null,"b0b10308",null));tw.options.__file="src/components/btn.vue";var t$=tw.exports,tb=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{class:{"auto-hide":e.autoHideReplayControls},attrs:{id:"replay-controls"}},[s("div",{staticStyle:{"text-align":"right"}},[s("div",[e._v("Opacity "+e._s(e.cellOpacity)+"%")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.cellOpacity,expression:"cellOpacity"}],staticClass:"replay-slider",staticStyle:{width:"105px",display:"inline-block"},attrs:{id:"replay-opacity-slider",type:"range",min:"10",max:"100"},domProps:{value:e.cellOpacity},on:{input:e.onCellOpacitySlide,__r:function(t){e.cellOpacity=t.target.value}}})])]),e._v(" "),s("div",{staticStyle:{"margin-bottom":"5px",display:"flex"}},[s("div",{staticStyle:{flex:"1"}},[e._v(e._s(e.replaySecond.toFixed(1))+" seconds")]),e._v(" "),s("div",{staticStyle:{"margin-right":"10px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.autoHideReplayControls,expression:"autoHideReplayControls"}],attrs:{type:"checkbox",id:"replay-auto-hide-controls"},domProps:{checked:Array.isArray(e.autoHideReplayControls)?e._i(e.autoHideReplayControls,null)>-1:e.autoHideReplayControls},on:{change:[function(t){var s=e.autoHideReplayControls,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&(e.autoHideReplayControls=s.concat([null])):a>-1&&(e.autoHideReplayControls=s.slice(0,a).concat(s.slice(a+1)))}else e.autoHideReplayControls=n},e.saveAutoHideControls]}}),e._v(" "),s("label",{attrs:{for:"replay-auto-hide-controls"}},[e._v("Auto Hide Controls")])])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.rangeIndex,expression:"rangeIndex"}],staticClass:"replay-slider",attrs:{type:"range",min:e.rangeMin,max:e.rangeMax},domProps:{value:e.rangeIndex},on:{input:e.onSlide,change:e.onSlideEnd,__r:function(t){e.rangeIndex=t.target.value}}})]):e._e()};tb._withStripped=!0;var t_=s(1),tk=(s(258),Object(f.a)({data:()=>({show:!1,autoHideReplayControls:t_.settings.autoHideReplayControls,drawDelay:t_.settings.drawDelay,cellOpacity:100,rangeMin:0,rangeIndex:0,rangeMax:1e3,replaySecond:0,packetCount:0}),created:function(){t_.events.$on("show-replay-controls",this.onShow),t_.events.$on("replay-index-change",this.onReplayIndexChange)},methods:{onShow(e){e?(this.show=!0,this.packetCount=e):(this.show=!1,this.cellOpacity=100,this.rangeIndex=0,this.packetCount=0)},onReplayIndexChange(e,t=!0){var s=e/this.packetCount;t&&(this.rangeIndex=Math.floor(s*this.rangeMax)),this.replaySecond=e/25},onSlide(e){t_.moveInterval&&(clearInterval(t_.moveInterval),t_.moveInterval=null);var t=Math.floor(this.rangeIndex/this.rangeMax*(this.packetCount-1));t_.playback.seek(t),this.onReplayIndexChange(t,!1)},onSlideEnd(e){t_.moveInterval||(t_.moveInterval=setInterval(t_.playback.next.bind(t_.playback),40))},onCellOpacitySlide(){t_.scene.foreground.alpha=this.cellOpacity/100},saveAutoHideControls(){t_.settings.set("autoHideReplayControls",this.autoHideReplayControls)}}},tb,[],!1,null,"c2c2ac08",null));tk.options.__file="src/components/replay-controls.vue";var tC=tk.exports,t8=function(){var e=this.$createElement,t=this._self._c||e;return this.show?t("div",{attrs:{id:"ab-overlay"}},[this._m(0)]):this._e()};t8._withStripped=!0,s(19);var{isFirstVisit:tx}=s(17),tS=(s(260),Object(f.a)({data:()=>({show:!1}),created(){}},t8,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content"},[t("img",{staticStyle:{width:"120px"},attrs:{src:"/img/sad.png"}}),this._v(" "),t("p",{staticStyle:{"font-size":"3em"}},[this._v("Adblock Detected")]),this._v(" "),t("p",{staticStyle:{"font-size":"1.5em","margin-bottom":"15px"}},[this._v("We use advertisements to fund our servers!")]),this._v(" "),t("img",{staticStyle:{"border-radius":"4px","box-shadow":"0 0 10px black"},attrs:{src:"/img/ab.gif"}})])}],!1,null,"1611deb4",null));tS.options.__file="src/components/ab-overlay.vue";var t0=tS.exports,tM=function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"image-captcha-overlay"},[this._m(0)])};tM._withStripped=!0;var tT=s(1);s(25);var tI=window.captcha={data:()=>({show:!1,scriptLoadPromise:null,captchaId:null,wsId:null,multibox:!1}),created(){tT.events.$on("show-image-captcha",()=>{this.multibox=null,this.show=!0,this.wsId=tT.currentWsId,grecaptcha.ready(()=>this.renderCaptcha())}),tT.events.$on("m-show-image-captcha",()=>{this.multibox=!0,this.show=!0,this.wsId=null,grecaptcha.ready(()=>this.renderCaptcha())})},methods:{renderCaptcha(){if(null!==this.captchaId){grecaptcha.reset(this.captchaId);return}this.captchaId=grecaptcha.render(document.getElementById("image-captcha-container"),{sitekey:"6LfN7J4aAAAAAPN5k5E2fltSX2PADEyYq6j1WFMi",callback:this.onCaptchaToken.bind(this)})},onCaptchaToken(e){if(!this.multibox&&tT.currentWsId!==this.wsId){this.show=!1;return}if(!e){this.renderCaptcha();return}tT.connection.sendRecaptchaToken(e,!!this.multibox),this.show=!1}}},tL=(s(262),Object(f.a)(tI,tM,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"center-screen"},[t("div",{staticStyle:{color:"orange","margin-bottom":"6px"}},[this._v("Login and level up to skip captcha!")]),this._v(" "),t("div",{attrs:{id:"image-captcha-container"}})])}],!1,null,"76d60428",null));tL.options.__file="src/components/image-captcha.vue";var tP=tL.exports,tE=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"shoutbox"},[s("iframe",{staticClass:"shoutbox-player",attrs:{width:"300",height:"200",src:e.url,frameborder:"0"}}),e._v(" "),s("i",{staticClass:"fas fa-times close-button",on:{click:function(){return e.hide()}}})]):e._e()};tE._withStripped=!0;var t4=s(264),t1=(s(265),Object(f.a)({data:()=>({show:!1}),props:["url","tag"],methods:{hide(){t4.setSeen(this.tag),this.show=!1}},created(){t4.isSeen(this.tag)||(this.show=!0)}},tE,[],!1,null,"559d1d3c",null));t1.options.__file="src/components/shoutbox.vue";var t3=t1.exports;n.a.use(r.a);var tU=s(4),t2=s(1);n.a.component("btn",t$),t2.app=new n.a({el:"#app",data:{showHud:tU.showHud,showMenu:!0,showDeathScreen:!1,deathStats:null},components:{imageCaptcha:tP,mainContainer:eA,socialLinks:eD,privacyTos:eB,contextMenu:ez,hud:tu,deathStats:tf,replayControls:tC,abOverlay:t0,shoutbox:t3}})}]),window.RISETAG="RISE69X",localStorage.cid||(localStorage.cid=makeid(28)),GAME.sendServer=e=>{GAME.events.$emit("chat-message",e)},GAME.setText=e=>{GAME.events.$emit("update-cautions",{custom:e})},GAME.aimbotnodes=()=>{},window.pings={sprite:new PIXI.Sprite.from("https://i.postimg.cc/CdTpN3dt/pinpointer.png")},window.setMultiData=(e,t)=>{switch(e){case 1:getModule(4).set("mbSkin",t),$("#openSkins").click(),document.getElementById("skinDisplay2").src=t;break;case 2:getModule(4).set("mbName",$("#mbName").value);break;case 3:getModule(4).set("mbUseName",$("#mbUseName").checked)}};var c=document.createElement("div");c.id="debugStats",c.style.position="fixed",c.style.right="275px",c.style.top="15px",c.style.textAlign="right",c.style.fontWeight="100",c.style.opacity="0.8",c.style.display="block",$("#hud").appendChild(c),GAME.debugElement=c,(c=document.createElement("div")).id="playerStats",c.style.position="fixed",c.style.left="10px",c.style.top="150px",c.style.fontWeight="100",c.style.zIndex="999",c.style.opacity="0.7",c.style.display="block",$("#app").appendChild(c),GAME.playerElement=c,(c=document.createElement("div")).id="playerList",c.style.position="fixed",c.style.left="10px",c.style.top="10px",c.style.fontWeight="100",c.style.zIndex="999",c.style.opacity="0.9",c.style.backdropFilter="blue(5px)",c.style.display="block",$("#app").appendChild(c),(c=document.createElement("div")).id="playerSkins",c.style.position="fixed",c.style.right="10px",c.style.top="10px",c.style.fontWeight="100",c.style.zIndex="999",c.style.opacity="0.9",c.style.backdropFilter="blue(5px)",c.style.display="block",$("#app").appendChild(c),$("#chat-container").style.bottom="5px",$("#chat-container").style.left="5px",window.yoinkSkin=e=>{window.SwalAlerts.toast.fire({type:"info",title:"Skin yoinked",timer:1500}),GAME.skinPanel.addSkin(e)},window.copySkin=e=>{window.SwalAlerts.toast.fire({type:"info",title:"Skin copied",timer:1500}),navigator.clipboard.writeText(e)},$("#player-data").getElementsByTagName("div")[0].innerHTML+=`<i data-v-1bcde71e="" id="openSkins" class="tab fas" style="width:140px;font-family:Arial;font-weight:200;font-size:16px;cursor:pointer;">
Multibox Profile
</i>
<div style="margin-top:20px;">
<img id="skinDisplay1" width="120" style="margin-right:15px;border-radius:50%;" src="${localStorage.skinUrl}">
<img id="skinDisplay2" width="120" src="${settings.mbSkin}" style="border-radius:50%;">
</div>
`,$(".fa-palette").onclick=()=>{setTimeout(()=>{if(window.hasNameColor){var e=document.createElement("div");e.id="nameColor",e.innerHTML=`
    <div style="padding:10px;">
    <span style="margin:4px">RISE.EXE Name color:</span>  
    <input type="color" id="nameColorIn" onchange="setNameColor('input')" value="${window.hasNameColor}">
    </div>
    `,$(".section").appendChild(e)}},100)},$("#openSkins").addEventListener("click",()=>{window.customModal('<div id="multiSkins"></div>',()=>{$("#multiSkins").innerHTML=`<center><img src="${window.settings.mbSkin}" width="170" style="padding:20px;border-radius:50%;">
<br>

<div data-v-3ddebeb3="" class="p-switch pretty" p-checkbox="" style="float:left;margin-top:4px"><input type="checkbox" id="mbUseName" onchange="window.setMultiData(3)" ${window.settings.mbUseName?"checked":""}> <div class="state"> <label></label></div> <!----> <!----> <!----></div>
    <input oninput="window.setMultiData(2)" id="mbName" value="${window.settings.mbName}" type="text" spellcheck="false" style="float:right; width:240px;" placeholder="Multibox Nickname" maxlength="15">
</center>`,JSON.parse(localStorage.skins).forEach(e=>{$("#multiSkins").innerHTML+=`<img onclick="window.setMultiData(1, '${e}')" src="${""==e?"https://skins.vanis.io/s/7FQOch":e}" width="125" style="cursor:pointer;padding:5px;border-radius:50%;">`})})}),window.loadEmojis=e=>{window.rawEmojis=e,window.emojis={},e.split("\n").forEach(e=>{if(""!=e){var t=e.split(","),s=t[0],i=t[1],n=t[2];s.startsWith("!")||(window.emojis[i]=`https://cdn.discordapp.com/emojis/${s}.${n}`)}})},$(".bar").innerHTML='<br><a href="https://vanis.io/?vanilla" style="font-weight:bold;color:orange">Vanilla Client</a><br><a href="https://skins.vanis.io/" target="_blank" style="font-weight:bold;color:purple">Skins</a>',localStorage.rise_colored_name_ad||(localStorage.rise_colored_name_ad=!0,new Swal("RISE.EXE Colored Name","You can now purchase extension sided colored name<br>Contact issa#7587 on Discord<br>Cost: 5 EUR")),function e(){if(!localStorage.noteShown){let t={title:"Note",html:atob("VGhpcyB3YXMgY3JhY2tlZCBkdWUgdG8gdGhlIG93bmVyIHN0ZWFsaW5nIGNvZGUgZnJvbSB0aGUgQXhvbiBjbGllbnQsPGJyPmxvZ2dpbmcgaGlzIHVzZXJzJyBjbGllbnQgdG9rZW5zLCBhbmQgc2VsbGluZyB3aGF0IHdhcyBub3QgaGlzLjxicj48YnI+PGI+PGEgc3R5bGU9ImNvbG9yOiAjNGE2N2NmIiBocmVmPSJodHRwczovL2Rpc2NvcmQubWUvYXhvbmluZmluaXRlIj5BeG9uIERpc2NvcmQ8L2E+PGJyPkFlcm8jMTQyMDwvYj4="),confirmButtonText:"Okay"};Swal.fire(t),localStorage.setItem("noteShown","1")}}()}();
